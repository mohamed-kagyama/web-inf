/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore"],function(e,t,i){var s=e("underscore"),n=function(e,t){this.initialize(e,t)};s.extend(n.prototype,{initialize:function(e,t){s.bindAll(this,"_onResize","_onResizeStart","_onResizeStop"),this.el=e,this.options=t,this.document=t.document||document,this.clientX=0,this.clientY=0,this._initResizer()},_initResizer:function(){this.el.addEventListener("mousedown",this._onResizeStart)},_onResize:function(e){e.preventDefault();var t=this.options.config,i=this._calculateNewPosition(e);t.resize&&t.resize(i)},_calculateNewPosition:function(e){var t=e.clientX,i=e.clientY,s=this._getResizerPosition();return this.clientX&&(s.offsetLeft+=t-this.clientX),this.clientY&&(s.offsetTop+=i-this.clientY),this.clientX=t,this.clientY=i,s},_onResizeStart:function(){var e=this.options.config,t=this._getResizerPosition();e.start&&e.start(t),this.document.addEventListener("mouseup",this._onResizeStop),this.document.addEventListener("mousemove",this._onResize)},_onResizeStop:function(){var e=this.options.config,t=this._getResizerPosition();e.stop&&e.stop(t),this.document.removeEventListener("mouseup",this._onResizeStop),this.document.removeEventListener("mousemove",this._onResize),this.clientX=0,this.clientY=0},_getResizerPosition:function(){var e=this.el.offsetLeft;return{offsetTop:this.el.offsetTop,offsetLeft:e}},remove:function(){this.el.removeEventListener("mousedown",this._onResizeStart),this.document.removeEventListener("mousemove",this._onResize),this.document.removeEventListener("mouseup",this._onResizeStop),this.clientX=0,this.clientY=0}}),i.exports=n});