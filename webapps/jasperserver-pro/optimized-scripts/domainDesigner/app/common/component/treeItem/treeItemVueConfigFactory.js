/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../tooltip/directive/tooltipDirectiveFactory","text!./template/treeItemTemplate.htm"],function(e,t,i){var r=e("underscore"),o=e("../tooltip/directive/tooltipDirectiveFactory"),s=e("text!./template/treeItemTemplate.htm");i.exports={create:function(e){function t(e){return r.pick.apply(null,[e].concat(Object.keys(l)))}e=e||{};var i=e.debounceTime,l={id:String,label:String,icon:String,invalid:{type:Boolean,default:!1},properties:Object,open:Boolean,selected:Boolean,isSelectable:Boolean,level:{type:Number,default:1},visible:{type:Boolean,default:!0},tooltip:{type:Object},group:{type:Boolean,default:!1}};return{directives:{tooltip:o.create()},template:s,props:l,computed:{isLeaf:function(){return!r.isBoolean(this.open)},classObject:function(){var e={"jr-isSelected":this.isSelectable&&this.selected,"jr-isInvalid":this.invalid};this.group?r.extend(e,{"jr-isExpanded":this.open,"jr-isCollapsed":!this.open,"jr-mTree-group":!0}):r.extend(e,{"jr-isOpen":!this.isLeaf&&this.open,"jr-isClosed":!this.isLeaf&&!this.open,"jr-mTree-node":!this.isLeaf,"jr-mTree-leaf":this.isLeaf});var t="jr-mTree-";return this.isLeaf?t+="leaf-":t+="node-",t+=this.level,e[t]=!0,e},classTreeLabel:function(){return this.group?{"jr-mTree-group-label":!0}:{"jr-mTree-label":!0}},classGroupExpander:function(){return{"jr-caretDown":this.open,"jr-caretRight":!this.open}}},methods:{toggle:r.debounce(function(){this.isLeaf||this.$emit("toggle",t(this))},i,!0),select:function(){this.isSelectable&&this.$emit("select",t(this))}}}}}});