/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../../util/repositoryResourceChooserDialogUtil","../../enum/repositoryResourceChooserSearchResultModeEnum"],function(e,t,o){function s(e){var t=e.store,o=e.repositoryResourceChooserActions,s=e.repositoryResourceChooserStateMutations;return{methods:{fetch:function(e){return o.fetch(e).then(function(e){s.setRepositoryTreeState({nodes:e.repositoryTreeData}),s.setResourcesListState({nodes:e.resourcesListData})})},selectListItem:function(e){var r=t.selectionOptions||{};o.selectListItem(e,r).then(function(e){s.setResourcesListState({nodes:e.visibleNodes,selection:e.selection})})},selectTreeNode:function(e){var r=t.selectionOptions||{};o.selectTreeNode(e,r).then(function(e){s.setRepositoryTreeState({nodes:e.visibleNodes,selection:e.selection})})},toggleRepositoryTree:function(e){o.toggleRepositoryTree(e).then(function(e){s.setRepositoryTreeState({nodes:e.visibleNodes,selection:e.selection})})},toggleSearchResultMode:function(e){s.toggleSearchResultMode(e)},submitSearchKeyword:function(e){var t=s;o.getResourceListDataByQueryWord(e).then(function(e){t.setSearchKeyword(e.queryWord),t.setResourcesListState({nodes:e.data,selection:{}}),t.toggleSearchResultMode(i.LIST)})},resetSearchKeyword:function(){var e=s;o.resetSearchKeyword().then(function(t){e.setSearchKeyword(""),e.toggleSearchResultMode(i.LIST),e.setResourcesListState({nodes:t.resourcesListData}),e.setRepositoryTreeState({nodes:t.repositoryTreeData})})},closeErrorPopover:function(){s.setPopoverErrorMessage("");var e=t.searchResultMode;r.isRepositoryTreeMode(e)?s.resetTreeNodesInvalidState():r.isResourcesListMode(e)&&s.resetListNodesInvalidState()}}}}var r=(e("underscore"),e("../../util/repositoryResourceChooserDialogUtil")),i=e("../../enum/repositoryResourceChooserSearchResultModeEnum");o.exports={create:s}});