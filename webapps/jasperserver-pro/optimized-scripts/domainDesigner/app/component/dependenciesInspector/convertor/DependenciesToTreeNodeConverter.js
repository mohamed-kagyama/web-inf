/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../../../common/component/enum/placementsEnum","../../enum/iconNameToTreeItemMapping","../../layout/sidebarView/enum/artificialTreeResourceTypesEnum","../enum/entityTypeToI18nKeyEnum"],function(e,n,t){function i(e){e=e||{},this.itemHeight=e.itemHeight,this.dependencySourcePathGenerator=e.dependencySourcePathGenerator,m.bindAll(this,"convert","_convert")}function o(e){return Boolean(e.entities)}function r(e){return o(e)?l[e.name]:e.name}function u(e){var n=null;return n=o(e)?s.DEPENDENCY_DIALOG_GROUP:e.entityType,p[n]}function c(e){return o(e)?h:d}var m=e("underscore"),a=e("../../../common/component/enum/placementsEnum"),p=e("../../enum/iconNameToTreeItemMapping"),s=e("../../layout/sidebarView/enum/artificialTreeResourceTypesEnum"),l=e("../enum/entityTypeToI18nKeyEnum"),h=1,d=2;m.extend(i.prototype,{convert:function(e){return this._counter=0,e.map(this._convert)},_convert:function(e){var n={id:this._counter,label:r(e),icon:u(e),invalid:!1,visible:!0,isSelectable:!1,level:c(e),properties:{},tooltip:{},height:this.itemHeight,group:o(e)};if(this._counter=this._counter+1,o(e))m.extend(n,{open:!0,children:[]});else{var t=this.dependencySourcePathGenerator.generate(e);t&&(n.tooltip={placement:a.BOTTOM_LEFT,content:{text:t}})}return n}}),t.exports=i});