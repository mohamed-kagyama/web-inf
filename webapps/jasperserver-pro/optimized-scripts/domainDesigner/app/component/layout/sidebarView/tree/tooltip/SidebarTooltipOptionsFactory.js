/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","bundle!DomainDesignerBundle","../../../../../../model/schema/enum/schemaEntitiesEnum","runtime_dependencies/js-sdk/src/common/util/i18nMessage"],function(e,i,n){var r=e("underscore"),t=e("bundle!DomainDesignerBundle"),a=e("../../../../../../model/schema/enum/schemaEntitiesEnum"),c=e("runtime_dependencies/js-sdk/src/common/util/i18nMessage"),o=c.create(t),l={};l[a.TABLE_REFERENCE]=function(e,i){var n=i.clientDomainSchemaService.getTableByTableReferenceId(e.resourceId);return!i.clientDomainSchemaService.isDerivedTable(n.id)&&{text:n.name||e.label,label:o("domain.designer.presentationDesigner.sidebar.tooltip.tableLabel")}},l[a.DATA_SOURCE]=function(e,i){return{text:i.clientResourcePropertiesService.getDataSourceUri(e.label)||e.label,label:o("domain.designer.resource.tooltip.path")}},l[a.JOIN_ALIAS]=function(e,i){var n=i.clientDomainSchemaService.getTableByJoinAliasId(e.resourceId);return!i.clientDomainSchemaService.isDerivedTable(n.id)&&{text:n.name||e.label,label:o("domain.designer.presentationDesigner.sidebar.tooltip.tableLabel")}},l[a.FIELD]=function(e,i){var n=i.clientDomainSchemaService.getFieldById(e.resourceId),r=n.sourceName||n.name;return!i.clientDomainSchemaService.isFieldChildOfDerivedTable(n.id)&&{text:r||e.label,label:o("domain.designer.presentationDesigner.sidebar.tooltip.fieldLabel")}};var s=function(e){this.initialize(e)};r.extend(s.prototype,{initialize:function(e){this.clientDomainSchemaService=e.clientDomainSchemaService,this.clientResourcePropertiesService=e.clientResourcePropertiesService,r.bindAll(this,"create")},create:function(e,i){var n={clientDomainSchemaService:this.clientDomainSchemaService,clientResourcePropertiesService:this.clientResourcePropertiesService},r=l[e.type];return{content:r&&r(e,n),target:i.querySelector(".jr-jTooltipTarget"),type:""}}}),n.exports=s});