/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","backbone","underscore","../../../../common/util/storeChangeEventCallbackExecutorUtil"],function(e,t,r){var o=e("backbone"),s=e("underscore"),i=e("../../../../common/util/storeChangeEventCallbackExecutorUtil"),n=function(e){this.initialize(e)};s.extend(n.prototype,o.Events,{initialize:function(e){this.metadataDesignerEventBus=e.metadataDesignerEventBus,this.metadataDesignerVueStore=e.metadataDesignerVueStore,this.storeChangeEventBus=e.storeChangeEventBus,this.metadataDesignerViewStateModelService=e.metadataDesignerViewStateModelService,this._initEvents()},_initEvents:function(){var e=i.getExecutor(this);this.listenTo(this.storeChangeEventBus,"change",e),this.listenTo(this.metadataDesignerEventBus,"errorPopover:close",this._onErrorPopoverClose)},_onErrorPopoverClose:function(){this.metadataDesignerVueStore.set({popoverText:"",isSourceTreeInvalid:!1})},"metadataDesigner:setAddResourcesError":function(){this._showAddResourcesError()},"add:dataSourceGroups":function(){this._showAddResourcesError()},"add:tablesWithTableReferences":function(){this._showAddResourcesError()},_showAddResourcesError:function(){var e=this.metadataDesignerViewStateModelService.getAddResourcesError();e.highlightInvalidResources&&this.metadataDesignerVueStore.set({popoverText:e.popoverMessage,isSourceTreeInvalid:!0})}}),r.exports=n});