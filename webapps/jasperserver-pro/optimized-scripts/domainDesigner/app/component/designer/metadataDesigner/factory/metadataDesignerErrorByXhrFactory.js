/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../../../../rest/errorHandling/errorMessageUtil","../../../../rest/enum/requestCanceledEnum","../../../../../rest/enum/restErrorCodesEnum","../../../../model/enum/profileAttributeErrorEnum","../../../../rest/enum/encryptedProfileAttributeErrorEnum","bundle!DomainDesignerBundle","runtime_dependencies/js-sdk/src/common/util/i18nMessage"],function(e,r,n){var t=e("underscore"),s=e("../../../../rest/errorHandling/errorMessageUtil"),i=e("../../../../rest/enum/requestCanceledEnum"),o=e("../../../../../rest/enum/restErrorCodesEnum"),u=e("../../../../model/enum/profileAttributeErrorEnum"),a=e("../../../../rest/enum/encryptedProfileAttributeErrorEnum"),d=e("bundle!DomainDesignerBundle"),E=e("runtime_dependencies/js-sdk/src/common/util/i18nMessage"),m=E.create(d),c={};c[o.SQL_EXCEPTION]=function(){return m("domain.designer.metadataDesigner.dataSource.connection.fail")},c[o.ACCESS_DENIED]=function(){return m("domain.designer.metadataDesigner.dataSource.access.denied")},c[o.CONNECTION_FAILED]=function(e,r){var n=e.details&&e.details[0];return n&&n.errorCode===o.SQL_EXCEPTION?n.message:s.getFirstErrorMessage(r)},c[u.PROFILE_ATTRIBUTE_NOT_FOUND]=function(e,r){return s.getFirstErrorMessage(r)},c[u.PROFILE_ATTRIBUTE_UNSUPPORTED_LEVEL]=function(e,r){return s.getFirstErrorMessage(r)},c[u.PROFILE_ATTRIBUTE_EMPTY_FOR_SCHEMA_FULL_DATASOURCE]=function(){return m("domain.designer.metadataDesigner.resolved.profile.attribute.schema.not.found")},c[a.ENCRYPTED_PROFILE_ATTRIBUTE_ERROR]=function(){return m("domain.designer.metadataDesigner.encrypted.profile.attribute.not.supported")},n.exports={create:function(e){if(e===i.CANCELED)return e;var r=e.responseJSON||{};r=t.isArray(r)?t.first(r):r;var n=r.errorCode,o=c[n];return o?o(r,e):s.getFirstErrorMessage(e)}}});