/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../enum/columnSetEnum","backbone","../../../../dispatcher/enum/applicationStateEventsEnum"],function(e,t,n){var i=e("underscore"),s=e("../enum/columnSetEnum"),o=e("backbone"),r=e("../../../../dispatcher/enum/applicationStateEventsEnum"),a=function(e){this.model=e.model,this.presentationDesignerEventBus=e.presentationDesignerEventBus,this.applicationDispatcherEventBus=e.applicationDispatcherEventBus,this.presentationDesignerViewStateModelService=e.presentationDesignerViewStateModelService,this.storeChangeEventBus=e.storeChangeEventBus,this._initEvents()};i.extend(a.prototype,o.Events,{_initEvents:function(){this.listenTo(this.storeChangeEventBus,"change",this._onStoreChange),this.listenTo(this.presentationDesignerEventBus,"select:defaultColumnSet",this._useDefaultColumnSet),this.listenTo(this.presentationDesignerEventBus,"select:identificationColumnSet",this._useIdentificationColumnSet),this.listenTo(this.presentationDesignerEventBus,"select:bundleKeysColumnSet",this._useBundleKeysColumnSet),this.listenTo(this.presentationDesignerEventBus,"select:dataColumnSet",this._useDataColumnSet),this.listenTo(this.presentationDesignerEventBus,"select:expandAllProperties",this._expandAllProperties),this.listenTo(this.presentationDesignerEventBus,"select:collapseAllProperties",this._collapseAllProperties)},_onStoreChange:function(){var e=this.presentationDesignerViewStateModelService.getPresentationDesignerColumnSet();this.model.set("columnSet",e)},_useDefaultColumnSet:function(){this.applicationDispatcherEventBus.trigger(r.PRESENTATION_DESIGNER_CHANGE_COLUMN_SET,s.DEFAULT)},_useIdentificationColumnSet:function(){this.applicationDispatcherEventBus.trigger(r.PRESENTATION_DESIGNER_CHANGE_COLUMN_SET,s.IDENTIFICATION)},_useBundleKeysColumnSet:function(){this.applicationDispatcherEventBus.trigger(r.PRESENTATION_DESIGNER_CHANGE_COLUMN_SET,s.BUNDLE_KEYS)},_useDataColumnSet:function(){this.applicationDispatcherEventBus.trigger(r.PRESENTATION_DESIGNER_CHANGE_COLUMN_SET,s.DATA)},_expandAllProperties:function(){this.applicationDispatcherEventBus.trigger(r.PRESENTATION_DESIGNER_EXPAND_ALL_PRESENTATION_ITEMS)},_collapseAllProperties:function(){this.applicationDispatcherEventBus.trigger(r.PRESENTATION_DESIGNER_COLLAPSE_ALL_PRESENTATION_ITEMS)}}),n.exports=a});