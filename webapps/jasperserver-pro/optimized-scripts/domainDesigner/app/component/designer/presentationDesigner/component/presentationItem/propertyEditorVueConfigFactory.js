/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","text!./template/propertyEditorTemplate.htm","jquery"],function(e,t,r){var i=(e("underscore"),e("text!./template/propertyEditorTemplate.htm")),o=e("jquery");r.exports={create:function(e){return{template:i,mixins:e.mixins||[],props:["editProperty","item","propertyName"],data:function(){return{isHovered:!1,isFocused:!1}},components:{tooltip:e.components.tooltip},computed:{label:function(){return this.item[this.propertyName]},isEditMode:function(){var e=this.editProperty.item||{};return this.item.id===e.id&&this.propertyName===this.editProperty.propertyName},errorMessage:function(){return this.editProperty.errorMessage},isErrorMessageVisible:function(){return this.errorMessage&&this.isEditMode},tooltipType:function(){return e.errorTooltipConfig.type},tooltipPlacement:function(){return e.errorTooltipConfig.placement},tooltipStyle:function(){return this.item.isPropertiesEditorExpanded?e.errorTooltipConfig.style.expanded:e.errorTooltipConfig.style.collapsed}},methods:{onMouseEnter:function(){this.isHovered=!0},onMouseLeave:function(){this.isHovered=!1},onClickOnValue:function(){e.presentationDesignerEventBus.trigger("edit:property",{item:this.item,propertyName:this.propertyName,value:this.label})},onEnter:function(){e.presentationDesignerEventBus.trigger("edit:enter:property")},onEsc:function(){e.presentationDesignerEventBus.trigger("edit:esc:property")},onInput:function(t){e.presentationDesignerEventBus.trigger("edit:input:property",t)},onBlur:function(){e.presentationDesignerEventBus.trigger("edit:blur:property",this.editProperty)}},updated:function(){if(this.isEditMode&&!this.isFocused){(e.jQuery||o)(this.$el).find("input").focus(),this.isFocused=!0}else this.isEditMode||(this.isFocused=!1)}}}}});