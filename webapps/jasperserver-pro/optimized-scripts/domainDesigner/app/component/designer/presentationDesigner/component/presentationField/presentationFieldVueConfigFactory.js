/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","bundle!DomainDesignerBundle","../../util/columnSetUtil","../../../../../model/enum/presentationFieldsMeasureOrDimensionOrderedEnum","../../../../../model/enum/presentationFieldsAggregationsEnum","../../enum/treeIconClassEnum","../presentationItem/enum/propertyToPropertyNameEnum","text!./template/presentationFieldTemplate.htm"],function(e,t,n){var r=e("underscore"),a=e("bundle!DomainDesignerBundle"),i=e("../../util/columnSetUtil"),l=e("../../../../../model/enum/presentationFieldsMeasureOrDimensionOrderedEnum"),o=e("../../../../../model/enum/presentationFieldsAggregationsEnum"),s=e("../../enum/treeIconClassEnum"),p=e("../presentationItem/enum/propertyToPropertyNameEnum"),u=e("text!./template/presentationFieldTemplate.htm");n.exports={create:function(e){return{template:u,props:["presentationField","editProperty","column0Width","column1Width"],components:{selectPropertyCollapsed:e.selectPropertyCollapsed,selectPropertyExpanded:e.selectPropertyExpanded,presentationItem:e.presentationItem,property:e.property,propertyEditor:e.propertyEditor,readOnlyProperty:e.readOnlyProperty,inputGroup:e.inputGroup,cell:e.cell},computed:{i18n:function(){return a},treeIconClass:function(){return s[this.presentationField.valueType]},measureOrDimensionOptions:function(){var e=this;return l.map(function(t){return{label:t.label,value:t.value,selected:t.value===e.presentationField.kind}})},aggregationOptions:function(){var e=o[this.presentationField.valueType],t=this.presentationField.aggregation||e.defaults.value;return e.available.map(function(e){return{label:e.label,value:e.value,selected:e.value===t}})},maskOptions:function(){var t,n=e.genericTypeToMasksEnum,a=n[this.presentationField.valueType],i=[],l=this.presentationField.mask;if(a&&a.available&&(i=r.cloneDeep(a.available),t=this.presentationField.mask||a.defaults.value),l){r.find(i,function(e){return l===e.value})||i.push({label:l,value:l})}return i.map(function(e){return{label:e.label,value:e.value,selected:e.value===t}})},isMaskPresent:function(){return this.maskOptions.length>0},calculationDataName:function(){return this.presentationField.isPropertiesEditorExpanded?e.selectPropertiesExpanded.summaryCalculationSelect:e.selectPropertiesCollapsed.summaryCalculationSelect},fieldTypeDataName:function(){return this.presentationField.isPropertiesEditorExpanded?e.selectPropertiesExpanded.fieldTypeSelect:e.selectPropertiesCollapsed.fieldTypeSelect},dataFormatDataName:function(){return this.presentationField.isPropertiesEditorExpanded?e.selectPropertiesExpanded.dataFormatSelect:e.selectPropertiesCollapsed.dataFormatSelect},propertyNames:function(){return p}},methods:r.extend({},i)}}}});