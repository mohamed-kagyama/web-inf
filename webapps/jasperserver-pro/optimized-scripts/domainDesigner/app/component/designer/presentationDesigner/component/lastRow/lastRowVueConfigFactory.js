/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../../../../../common/vue/directive/lazyDroppableDirective","text!./template/lastRowTemplate.htm"],function(e,t,o){var r=e("underscore"),i=e("../../../../../common/vue/directive/lazyDroppableDirective"),n=e("text!./template/lastRowTemplate.htm");o.exports={create:function(e){var t=e.presentationDesignerEventBus,o=e.dropItemsIntoDropZoneSpecification,s=e.presentationDesignerLastRowDropZonePropertiesFactory;return{template:n,directives:{droppable:i},mixins:e.mixins,props:["lastRow","column0Width","column1Width"],data:function(){return{isHovered:!1}},computed:{droppableConfig:function(){return{drop:this.drop,over:this.over,out:this.out,tolerance:"pointer",test:this.shouldBeDroppable}},heightInPx:function(){return this.lastRow.height+"px"},visibility:function(){return this.isHovered?{display:"block"}:{}}},methods:{drop:function(e,o){this.isHovered=!1,t.trigger("dropZone:drop",o,this.getDropZoneProperties(o))},over:function(){t.trigger("lastRowDropZone:over"),this.isHovered=!0},out:function(){this.isHovered=!1},shouldBeDroppable:function(e){return!r.isEmpty(e)&&o.isSatisfiedBy(e,this.getDropZoneProperties(e))},getDropZoneProperties:function(e){return s.create({items:e,lastRow:this.lastRow})}}}}}});