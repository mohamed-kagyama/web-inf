/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../../../../../model/schema/enum/dataSourceMetadataTypesEnum","../../../../model/enum/viewStateModelDefaultsEnum","../../../../../model/util/SimpleModel"],function(e,n,s){function a(){var e=l.sortBy(l.keys(t));return l.map(e,function(e){return{label:e,value:t[e]}})}var l=e("underscore"),t=e("../../../../../model/schema/enum/dataSourceMetadataTypesEnum"),i=e("../../../../model/enum/viewStateModelDefaultsEnum"),o=e("../../../../../model/util/SimpleModel"),r=o.extend({defaults:function(){return{id:null,isUsedInComplexJoin:!1,isUsedInJoinExpression:!1,isVisible:i.CALCULATED_FIELDS_DESIGNER.VISIBILITY.value,formulaValue:"",formulaSelectionRange:{start:0,end:0},selectionRange:{start:0,end:0},fieldReferences:[],type:t.Integer,name:"",originalName:"",expression:{string:"",object:{}},availableValuesExpandedNodes:{},availableValuesCollapsedNodes:{},calcFieldTypes:a(),expressionValidationInProgress:!1,calcFieldValidationInProgress:!1,errors:{name:"",expression:{message:"",level:""}},expressionValidationSuccessMessage:"",searchKeyword:""}},toDTO:function(){var e=this.get("id"),n={fieldReferences:l.cloneDeep(this.get("fieldReferences")),name:this.get("name"),expression:l.cloneDeep(this.get("expression")),type:this.get("type")};return null!==e&&(n.id=e),n}});s.exports=r});