/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","../../../enum/rightOperandValueFormatEnum","../../../../../../common/component/inputErrorMessage/InputErrorMessage","text!./template/multiSelectValueEditorTemplate.htm"],function(e,t,r){var n=e("../../../enum/rightOperandValueFormatEnum"),i=e("../../../../../../common/component/inputErrorMessage/InputErrorMessage"),o=e("text!./template/multiSelectValueEditorTemplate.htm");r.exports={create:function(e){e=e||{};var t=e.filtersDesignerEventBus,r=e.multiSelect,a=e.onShowListValuesConverter,s=e.onSelectListValuesConverterConfig,l=e.onSelectListValuesSortFnConfig,u=e.rightOperandValueFormatEnum||n;return{template:o,props:["filter","operand"],components:{multiSelect:r,errorMessage:i},computed:{options:function(){var e=this.filter.rightOperand.items,t=l[this.filter.dataType];return{isTrueAll:this.filter.rightOperand.isAll,value:a.convert(e,this.filter.dataType)||e,selectedListOptions:{sortFunc:t}}},errorMessage:function(){return this.filter.errors.right&&this.filter.errors.right.errorMessage}},methods:{onSelectionChange:function(e,r){e=s[this.filter.dataType].convert(e);var n=u[this.filter.rightOperand.type](e,r);t.trigger("draftFilter:changeValue",n)}}}}}});