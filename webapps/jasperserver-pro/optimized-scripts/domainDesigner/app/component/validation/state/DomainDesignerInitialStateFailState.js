/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../../../rest/enum/requestCanceledEnum","../../../rest/errorHandling/errorHandlingUtil","./enum/validationStateNameEnum"],function(i,r,e){var n=i("underscore"),t=i("../../../rest/enum/requestCanceledEnum"),a=i("../../../rest/errorHandling/errorHandlingUtil"),o=i("./enum/validationStateNameEnum"),E=function(i){this.initialize(i)};n.extend(E.prototype,{initialize:function(i){this.dataSourceInvalidValidationErrorSpecification=i.dataSourceInvalidValidationErrorSpecification,this.allErrorsRecoverableValidationErrorSpecification=i.allErrorsRecoverableValidationErrorSpecification,this.invalidSecurityFileErrorsOnlySpecification=i.invalidSecurityFileErrorsOnlySpecification},enter:function(i,r){var e,n=i.xhr;if(n===t.CANCELED)r.enter(o.GOTO_PREVIOUS_LOCATION_STATE,i);else{e=a.getErrors(n);var E=this.dataSourceInvalidValidationErrorSpecification.isSatisfiedBy(e),l=this.allErrorsRecoverableValidationErrorSpecification.isSatisfiedBy(e),c=this.invalidSecurityFileErrorsOnlySpecification.isSatisfiedBy(e);i.errors=e,E?r.enter(o.DATA_SOURCE_ERROR_STATE,i):c?r.enter(o.DOMAIN_DESIGNER_INITIAL_STATE_SECURITY_FILE_ERROR_STATE,i):l?r.enter(o.DOMAIN_DESIGNER_INITIAL_STATE_INITIALIZE_DESIGNER_STATE_AFTER_RECOVERABLE_ERROR_STATE,i):r.enter(o.UNRECOVERABLE_ERROR_STATE,i)}}}),e.exports=E});