/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","vue","../../../common/component/search/factory/searchVueWrapperConfigFactory","../../../common/component/search/factory/searchVueConfigFactory","../../../component/layout/sidebarView/component/sidebarLayout/SidebarLayoutVueComponent","text!../../../component/layout/sidebarView/component/sidebarLayout/template/sidebarLayoutVueTemplate.htm","../../../component/layout/sidebarView/tree/TreeListDataProvider","../../../component/layout/sidebarView/tree/SidebarSearchKeywordProvider","../../../component/layout/sidebarView/predicate/MatchBySearchKeyword","../../../component/layout/sidebarView/provider/getDefaultResourceSearchPropertyProvider","../../../../util/nestedTreeModel/NestedTreeModel","../../../util/AutoIdGenerationStrategyBasedOnEntityId","../../../util/uriUtil","../../../dispatcher/enum/applicationStateEventsEnum","../../../component/layout/sidebarView/tree/plugin/SidebarTreeExpandCollapsePlugin","../../../component/layout/sidebarView/factory/contextMenu/menuOptionsProviderFactory","../../../component/layout/sidebarView/factory/contextMenu/menuEventHandlerFactory/showContextMenuEventHandlerFactory","../../../component/designer/filtersDesigner/sidebar/specification/filtersDesignerSidebarTreeContextMenuVisibilitySpecification","../../../../util/predicate/CompositePredicate","../../../component/layout/sidebarView/converter/CompositeConcatenatingConverter","../../../component/layout/sidebarView/converter/CompositeResourceConverter","../../../common/converter/emptyProfileAttributeValuesToPlaceholderLabelConverter","../../../component/designer/joinsDesigner/converter/sidebar/addParentJoinTreeIdConverter","../../../component/layout/sidebarView/converter/processor/TreeItemSelectionProcessor","../../../component/layout/sidebarView/converter/processor/TreeItemExpandedProcessor","../../../component/layout/sidebarView/converter/processor/treeItemValueProcessor","../../../component/layout/sidebarView/converter/processor/resourcesTreeItemIdProcessor","../../../component/layout/sidebarView/converter/processor/treeItemCalcFieldParentIdProcessor","../../../component/designer/filtersDesigner/converter/sidebar/processor/filtersDesignerSidebarTreeItemResourceProcessor","../../../component/layout/sidebarView/converter/processor/treeItemIsEmptyDataSourceProcessor","../../../component/layout/sidebarView/converter/ConstantGroupTreeConverter","../../../component/layout/sidebarView/converter/DataSourceTreeConverter","../../../component/layout/sidebarView/converter/JoinTreesTreeConverter","../../../component/layout/sidebarView/converter/SchemaToDesignerTreeConverter","../../../component/designer/joinsDesigner/predicate/doNotAcceptTableReferencesUsedInJoins","../../../component/layout/sidebarView/predicate/doNotAcceptEmptyElementsIfResourceDoNotMatch","../../../component/layout/sidebarView/predicate/DoNotSkipChildrenConversion","../../../component/designer/filtersDesigner/sidebar/plugin/FiltersDesignerSidebarTreeSelectionPlugin","../../../component/designer/filtersDesigner/sidebar/plugin/FiltersDesignerSidebarTreeDraggablePlugin","../../../component/designer/filtersDesigner/sidebar/factory/filtersDesignerSidebarTreeOptionsFactory","../../../common/enum/automationDataNameAttributesEnum","../../../common/factory/addAutomationDataNameAttributeMixinFactory","../../../../util/eventBusFactory"],function(e,r,t){function o(e,r){e.register("filtersDesignerSidebarSearchKeywordProvider",new g({service:e.get("filtersDesignerViewStateModelService")})),e.register("filtersDesignerSidebarMatcherBySearchKeyword",new m({getSearchProperty:v,searchKeywordProvider:e.get("filtersDesignerSidebarSearchKeywordProvider")}));var t=new P([e.get("baseTreeResourceConverter"),N,B]).convert,o=new F({searchKeywordProvider:e.get("filtersDesignerSidebarSearchKeywordProvider"),isExpanded:e.get("viewStateModelQueryService").isNodeExpanded,isCollapsed:e.get("viewStateModelQueryService").isNodeCollapsed}),i=new I({isItemSelected:e.get("filtersDesignerViewStateModelService").isSidebarItemSelected}),n=new G({isExpanded:e.get("viewStateModelQueryService").isNodeExpanded,searchKeywordProvider:e.get("filtersDesignerSidebarSearchKeywordProvider")}),a=new P([x,o.process,O,A,e.get("js-sdk/src/commonSidebarTreeNodeConverter"),e.get("treeItemLabelProcessor").getNameAsLabel,i.process]).convert,s=new R({resourceMatch:!0,resourceOrChildrenMatch:e.get("filtersDesignerSidebarMatcherBySearchKeyword").match,resourceJsonMatch:j,convertResourceNoChildren:new P([t,a]),convertChildrenMatch:n.match,convertResource:e.get("constantGroupMapBasedConverter"),comparator:e.get("comparatorByLabel")}),c=new L({resourceMatch:new T([J]).match,resourceOrChildrenMatch:new T([e.get("filtersDesignerSidebarMatcherBySearchKeyword").match,e.get("showDefaultSchemaInSidebarPredicate")]).match,resourceJsonMatch:j,convertResourceNoChildren:new P([t,e.get("treeItemIsDerivedTableProcessor").process,a]),convertChildrenMatch:n.match,convertResource:e.get("resourceMapBasedConverter"),comparator:e.get("dataSourceComparator"),schemaLessDataSourceWithEmptyResolvedSchemaAttributeSpec:e.get("schemaLessDataSourceWithEmptyResolvedSchemaAttributeSpec"),postProcess:V});e.register("filtersDesignerJoinsToTreeStructureConverter",new K({resourceMatch:!0,resourceOrChildrenMatch:e.get("filtersDesignerSidebarMatcherBySearchKeyword").match,resourceJsonMatch:j,convertResourceNoChildren:new P([t,E,e.get("treeItemIsDerivedTableProcessor").process,a]),convertChildrenMatch:n.match,convertResource:e.get("joinTreesMapBasedConverter"),comparator:e.get("dataSourceComparator")})),e.register("schemaToFiltersDesignerTreeConverter",new H({clientDomainSchemaCalcFieldsService:e.get("clientDomainSchemaCalcFieldsService"),converter:new M({converters:[s,c,e.get("filtersDesignerJoinsToTreeStructureConverter")]})})),e.register("filtersDesignerSidebarNestedTreeModel",new b([],{idGenerationStrategy:new y,pathSeparator:S.getRootUri(),nodeIdAttribute:"resourceId"})),e.register("filtersDesignerSidebarTreeDataProvider",new p({schemaToNestedTreeModelConverter:e.get("schemaToFiltersDesignerTreeConverter"),nestedTreeModel:e.get("filtersDesignerSidebarNestedTreeModel")}))}function i(e,r){var t=w.create({eventBus:e.get("filtersDesignerEventBus")});e.register("filtersDesignerSidebarContextMenuEventHandlers",a.extend({},e.get("removeDerivedTableMenuEventHandler"),e.get("editDerivedTableMenuEventHandler"),e.get("createCalcFieldMenuEventHandler"),e.get("editCalcFieldMenuEventHandler"),e.get("removeCalcFieldMenuEventHandler"),t));var o=f.create([e.get("editDerivedTableMenuOption"),e.get("removeDerivedTableMenuOption"),e.get("createCalcFieldMenuOption"),e.get("createConstantCalcFieldMenuOption"),e.get("editCalcFieldMenuOption"),e.get("removeCalcFieldMenuOption")]);e.register("filtersDesignerSidebarContextMenuOptionsProvider",o)}function n(e,r){e.register("filtersDesignerSidebarSearchEventBus",$.create());var t=s.extend(k.create({config:d.create({eventBus:e.get("filtersDesignerSidebarSearchEventBus")}),dataNames:_.filtersDesigner.sidebarSearch}));e.register("filtersDesignerSidebarSearch",s.extend(c.create({search:t,data:e.get("filtersDesignerSidebarSearchStore").attributes})));var o=e.get("sidebarTreeDataProviderPromiseWrapper"),i=Q.getTreeOptions({listItemHeight:r.list.listItemHeight,dataProvider:o(e.get("filtersDesignerSidebarTreeDataProvider").getData),sidebarTooltipOptionsFactory:e.get("sidebarTooltipOptionsFactory"),filtersDesignerSidebarTreeContextMenuVisibilitySpecification:C,filtersDesignerSidebarContextMenuEventHandlers:e.get("filtersDesignerSidebarContextMenuEventHandlers"),filtersDesignerSidebarContextMenuOptionsProvider:e.get("filtersDesignerSidebarContextMenuOptionsProvider")});e.register("filtersDesignerSidebarTree",e.get("sidebarTreeFactory").create(i)),e.register("filtersDesignerSidebar",new l({data:e.get("filtersDesignerSidebarStore").attributes,tree:e.get("filtersDesignerSidebarTree"),template:u})),e.register("filtersDesignerSidebarTreeExpandCollapsePlugin",new h({expandedNodesProvider:e.get("viewStateModelQueryService"),searchKeywordProvider:e.get("filtersDesignerSidebarSearchKeywordProvider"),el:e.get("filtersDesignerSidebar").$el,eventBus:e.get("applicationDispatcherEventBus"),expandNodeEvent:D.EXPAND_SIDEBAR_NODE,collapseNodeEvent:D.COLLAPSE_SIDEBAR_NODE})),e.register("filtersDesignerSidebarTreeDraggablePlugin",new W({filtersDesignerEventBus:e.get("filtersDesignerEventBus"),sidebarTreeModel:e.get("filtersDesignerSidebarNestedTreeModel"),el:e.get("filtersDesignerSidebar").$el})),e.register("filtersDesignerSidebarTreeSelectionPlugin",new U({filtersDesignerEventBus:e.get("filtersDesignerEventBus"),sidebarTreeModel:e.get("filtersDesignerSidebarNestedTreeModel"),el:e.get("filtersDesignerSidebar").$el}))}var a=e("underscore"),s=e("vue"),c=e("../../../common/component/search/factory/searchVueWrapperConfigFactory"),d=e("../../../common/component/search/factory/searchVueConfigFactory"),l=e("../../../component/layout/sidebarView/component/sidebarLayout/SidebarLayoutVueComponent"),u=e("text!../../../component/layout/sidebarView/component/sidebarLayout/template/sidebarLayoutVueTemplate.htm"),p=e("../../../component/layout/sidebarView/tree/TreeListDataProvider"),g=e("../../../component/layout/sidebarView/tree/SidebarSearchKeywordProvider"),m=e("../../../component/layout/sidebarView/predicate/MatchBySearchKeyword"),v=e("../../../component/layout/sidebarView/provider/getDefaultResourceSearchPropertyProvider"),b=e("../../../../util/nestedTreeModel/NestedTreeModel"),y=e("../../../util/AutoIdGenerationStrategyBasedOnEntityId"),S=e("../../../util/uriUtil"),D=e("../../../dispatcher/enum/applicationStateEventsEnum"),h=e("../../../component/layout/sidebarView/tree/plugin/SidebarTreeExpandCollapsePlugin"),f=e("../../../component/layout/sidebarView/factory/contextMenu/menuOptionsProviderFactory"),w=e("../../../component/layout/sidebarView/factory/contextMenu/menuEventHandlerFactory/showContextMenuEventHandlerFactory"),C=e("../../../component/designer/filtersDesigner/sidebar/specification/filtersDesignerSidebarTreeContextMenuVisibilitySpecification"),T=e("../../../../util/predicate/CompositePredicate"),M=e("../../../component/layout/sidebarView/converter/CompositeConcatenatingConverter"),P=e("../../../component/layout/sidebarView/converter/CompositeResourceConverter"),V=e("../../../common/converter/emptyProfileAttributeValuesToPlaceholderLabelConverter"),E=e("../../../component/designer/joinsDesigner/converter/sidebar/addParentJoinTreeIdConverter"),I=e("../../../component/layout/sidebarView/converter/processor/TreeItemSelectionProcessor"),F=e("../../../component/layout/sidebarView/converter/processor/TreeItemExpandedProcessor"),x=e("../../../component/layout/sidebarView/converter/processor/treeItemValueProcessor"),N=e("../../../component/layout/sidebarView/converter/processor/resourcesTreeItemIdProcessor"),B=e("../../../component/layout/sidebarView/converter/processor/treeItemCalcFieldParentIdProcessor"),O=e("../../../component/designer/filtersDesigner/converter/sidebar/processor/filtersDesignerSidebarTreeItemResourceProcessor"),A=e("../../../component/layout/sidebarView/converter/processor/treeItemIsEmptyDataSourceProcessor"),R=e("../../../component/layout/sidebarView/converter/ConstantGroupTreeConverter"),L=e("../../../component/layout/sidebarView/converter/DataSourceTreeConverter"),K=e("../../../component/layout/sidebarView/converter/JoinTreesTreeConverter"),H=e("../../../component/layout/sidebarView/converter/SchemaToDesignerTreeConverter"),J=e("../../../component/designer/joinsDesigner/predicate/doNotAcceptTableReferencesUsedInJoins"),j=e("../../../component/layout/sidebarView/predicate/doNotAcceptEmptyElementsIfResourceDoNotMatch"),G=e("../../../component/layout/sidebarView/predicate/DoNotSkipChildrenConversion"),U=e("../../../component/designer/filtersDesigner/sidebar/plugin/FiltersDesignerSidebarTreeSelectionPlugin"),W=e("../../../component/designer/filtersDesigner/sidebar/plugin/FiltersDesignerSidebarTreeDraggablePlugin"),Q=e("../../../component/designer/filtersDesigner/sidebar/factory/filtersDesignerSidebarTreeOptionsFactory"),_=e("../../../common/enum/automationDataNameAttributesEnum"),k=e("../../../common/factory/addAutomationDataNameAttributeMixinFactory"),$=e("../../../../util/eventBusFactory");t.exports=function(e,r){o(e,r),i(e,r),n(e,r)}});