/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","../enum/draftStateTypesEnum","../enum/canvasViewDesignersEnum"],function(e,t,r){var i=e("underscore"),n=e("../enum/draftStateTypesEnum"),o=e("../enum/canvasViewDesignersEnum"),a=function(e){this.initialize(e)},u=o.JOINS_DESIGNER;i.extend(a.prototype,{initialize:function(e){i.bindAll(this,"isSidebarItemSelected"),this.viewStateModel=e.viewStateModel},isSidebarItemSelected:function(e){var t=this.viewStateModel.getCurrentResource(u);if(t)return t.id===e.id},isAtLeastOneResourceAlreadyDropped:function(){var e=this.viewStateModel.getDesignerSpecificProperty(u,"joinTrees");return i.some(e,function(e){var t=e.joinsConstructor;return t&&t.leftDroppableArea.fieldId})},getCurrentSidebarResource:function(){return this.viewStateModel.getCurrentResource(u)},getSidebarSelectionPath:function(){var e=this.viewStateModel.getCurrentResource(u);return e&&e.id},getSidebarSearchKeyword:function(){return this.viewStateModel.getSidebarSearchKeyword(u)},getJoinConstructor:function(){var e=this.viewStateModel.getDraftState(),t=e[n.JOIN_CONSTRUCTOR];if(!i.isEmpty(t))return t},getDraftJoinTree:function(){var e=this.viewStateModel.getDraftState(),t=e[n.DRAFT_JOIN_TREE];if(!i.isEmpty(t))return t}}),r.exports=a});