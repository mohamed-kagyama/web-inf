/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","./clientSchemaModelUtil"],function(e,r,n){function t(e){e=e||{currentSidebarResource:{}};var r,n=e.currentSidebarResource,t=c(e),u=n.parentJoinTreeId&&n.resourceId!==n.parentJoinTreeId,o=e.collections;return u?(r=i.getJoinAliasByTableReferenceId(n.parentTableReferenceId,o),t&&r):t}function c(e){e=e||{currentSidebarResource:{}};var r=e.currentSidebarResource,n=r.resourceId,t=r.type,c=e.collections;return n&&i.checkIfResourceExistsInSchemaByIdAndType(n,t,c)}var u=e("underscore"),i=e("./clientSchemaModelUtil");n.exports={getJoinsDesignerCurrentSidebarResource:function(e){return t(e)?e.currentSidebarResource:{type:"",id:null,resourceId:null,parentTableReferenceId:null,parentJoinTreeId:null}},getMetadataDesignerCurrentSidebarResource:function(e){return c(e)?e.currentSidebarResource:{type:"",id:null,resourceId:null}},getFiltersDesignerCurrentSidebarResource:function(e){return c(e)?e.currentSidebarResource:{type:"",id:null,resourceId:null}},getPresentationItemsSidebarSelection:function(e){var r=u.clone(e.currentSelection),n=e.collections;return r.items=u.reduce(r.items,function(e,r,t){return i.checkIfResourceExistsInSchemaByIdAndType(r.resourceId,r.type,n)&&(e[t]=r),e},{}),u.isEmpty(r.items)&&(r.parentId=null),r}}});