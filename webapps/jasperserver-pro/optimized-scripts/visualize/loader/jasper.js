/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

!function(e){"use strict";function r(e,r){var s,o,l,a,c,u,h,f;return e&&("object"==typeof e?(o=e.url,a=e.logEnabled,c=e.logLevel,u=e.scripts,require.config({config:{logger:{enabled:e.logEnabled,level:e.logLevel,appenders:["console"]},theme:e.theme},baseUrl:o+"/"+u})):"string"==typeof e&&(o=e)),o||(s=new Error(n.BASE_URL_NOT_FOUND)),r&&"function"!=typeof r&&(s=new Error(n.ILLEGAL_CALLBACK),r=null),r||(r=t),s?(r.apply(this,[s]),f=function(e){throw new Error("Can't load "+e)}):(h=new i(r,s),require(["visualize/loader/core/Root","runtime_dependencies/js-sdk/src/common/logging/logger"],function(e,r){r.initialize({level:c,enabled:a,appenders:["console"]}),l=new e(o,a,c,u);var n=r.register("Jasper");l.settings().done(function(e){n.debug("Server settings: ",e),h.resolveSettings(e)}),l.requirejs().done(function(e){var r=requirejs.config(e);h.resolveConfig(r)})},r),f=function(e,n){h.then(function(t){t.apply(this,[e,n,r])})}),f}var n={BASE_URL_NOT_FOUND:"Illegal 'conf' argument, it should be url to server or contains 'url' property",ILLEGAL_CALLBACK:"Illegal 'callback' argument, it should be function or undefined"},t=function(e){if(e)throw e},i=function(e,r){function n(){e&&e.call(this,r,this.require);for(var n=0;n<this._callbacks.length;n++)this._callbacks[n](this.require)}this._callbacks=[],this.then=function(e){this.require?e(this.require):this._callbacks.push(e)},this.resolveSettings=function(e){this.settings=e,this.require&&n.call(this)},this.resolveConfig=function(e){this.require=e,this.settings&&n.call(this)}},s=e.jasper,o=e.jasperjs;r.noConflict=function(n){return e.jasper===r&&(e.jasper=s),n&&e.jasperjs===jasperjs&&(e.jasperjs=o),r},e.jasper=r,e.jasperjs=r,r._errors_=n,r.version="0.0.1a"}(this);