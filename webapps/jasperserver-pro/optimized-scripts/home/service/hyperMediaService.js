/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","request","jquery","runtime_dependencies/js-sdk/src/jrs.configs","../types/mediaTypes","../types/halProviders"],function(e,r,t){function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(t,!0).forEach(function(r){c(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){if(!Array.isArray(e))return e;var t=e.find(function(e){return e.type===r});if(!t)throw new Error("HalLink with type ".concat(r," not found"));return t}function u(e){return i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.APPLICATION_HAL_JSON).href}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(Array.isArray(e)?e:[e]).map(function(e){var r=e._links,t=e._embedded,n=Object.keys(t).reduce(function(e,r){var n=t[r],i=Array.isArray(n)?n[0]:n;return o({},e,c({},r,{label:i.title,action:r,entity:i}))},{});return n=Object.keys(r).reduce(function(e,t){var n=r[t],c=i(n,v.TEXT_HTML);return o({},e,{label:c.title,action:c.relation,href:c.href})},n),o({},e,{controls:n})})}function a(e){return function(){return e({type:"GET",traditional:!0,dataType:"json",url:"".concat(k,"/rest_v2/hypermedia/root")})}}function f(e,r,t){return t({url:e}).then(function(e){return s(e._embedded[r])})}function l(e,r){return f(u(e),j.workflow,r)}function d(e,r){return f(u(e),j.contentReference,r)}function y(e,r){return f(u(e),j.resource,r)}function p(e){return function(){return f("".concat(k,"/rest_v2/hypermedia/workflows?parentName=admin"),j.workflow,e)}}function m(e){var r=a(e);return function(){return r().then(function(r){var t=r._links[g.contentReferences],n=r._links[g.workflows],o=r._links[g.resources];return b.when(d(t,e),l(n,e),y(o,e)).then(function(e,r,t){return{contentReferences:e,workflows:r,resources:t}})})}}var w=e("request"),b=e("jquery"),h=e("runtime_dependencies/js-sdk/src/jrs.configs"),v=e("../types/mediaTypes"),O=e("../types/halProviders"),j=O.halNames,g=O.halProviders,k=h.contextPath;r.createGetRoot=a;r.getRoot=a(w);r.createGetHomeAdminWorkflowResources=p;r.getHomeAdminWorkflowResources=p(w);r.createGetHomePageResources=m;r.getHomePageResources=m(w)});