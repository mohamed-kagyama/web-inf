/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","jquery","momentExtension","runtime_dependencies/js-sdk/src/common/util/browserDetection","runtime_dependencies/js-sdk/src/jrs.configs","./adhocDataProcessor","./palette/defaultPalette","./enum/dateTimeFormats","./enum/adhocToHighchartsTypes","highcharts","./enum/dataStyle","./gaugeCharts/getGaugeOptions","./gaugeCharts/getMultiLevelGaugeOptions","./gaugeCharts/getArcGaugeOptions"],function(e,t,a){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=e("underscore"),s=e("jquery"),n=e("momentExtension"),o=e("runtime_dependencies/js-sdk/src/common/util/browserDetection"),l=e("runtime_dependencies/js-sdk/src/jrs.configs"),u=e("./adhocDataProcessor"),p=e("./palette/defaultPalette"),c=e("./enum/dateTimeFormats"),m=e("./enum/adhocToHighchartsTypes"),h=e("highcharts"),g=e("./enum/dataStyle"),d=e("./gaugeCharts/getGaugeOptions"),y=e("./gaugeCharts/getMultiLevelGaugeOptions"),f=e("./gaugeCharts/getArcGaugeOptions"),x=i.chain({}).extend(i.cloneDeep(p)).extend(c).value(),S=function(e,t){var a=t.slice(e.length,t.length);return e.concat(a)};i.extend(x,{SeriesType:{COMMON:0,PIE:1,DUAL_LEVEL_PIE:2,HEAT_MAP:3,HEAT_MAP_TIME_SERIES:4,SEMI_PIE:5,DUAL_MEASURE_TREE_MAP:6,TREE_MAP:7,ONE_PARENT_TREE_MAP:8,GAUGE:9,MULTI_LEVEL_GAUGE:10,ARC_GAUGE:11},chartType:null,fullGroupHierarchyNames:!0,defaultPiesPerRow:8,maxPieRows:4,HEATMAP_LEGEND_TICK_INTERVAL:150,categories:[],categoryNames:{},groupedCategories:!1,highchartsCategories:[],measureMin:null,measureMax:null,extendDefaultPalette:function(e){var t,a,r=e.chartState,n=r.seriesColors||[];if(t=i.find(r.advancedProperties,function(e){return"colors"===e.name}))try{a=JSON.parse(t.value),x.colors=s.extend(i.clone(p.colors),a)}catch(e){x.colors=S(n,p.colors)}else x.colors=S(n,p.colors)},getSeriesByType:function(e,t,a,r){var i,s;this.extendDefaultPalette(r),r.metadata.isOLAP?(i=u.getNodeListForDimLevelRadio(0,t),s=u.getNodeListForDimLevelRadio(1,a)):(i=u.getNodeListForSliderLevel(0,t),s=u.getNodeListForSliderLevel(1,a));var n;switch(e){case x.SeriesType.COMMON:n=x.getCommonSeries(i,s,r);break;case x.SeriesType.PIE:n=x.getPieSeries(i,s,t,a,r);break;case x.SeriesType.SEMI_PIE:n=x.getSemiPieSeries(i,s,t,a,r);break;case x.SeriesType.DUAL_LEVEL_PIE:n=x.getDualLevelPieSeries(i,s,t,a,r);break;case x.SeriesType.HEAT_MAP:n=x.getHeatMapOptions(i,s,r);break;case x.SeriesType.HEAT_MAP_TIME_SERIES:n=x.getHeatMapTimeSeriesOptions(i,s,r);break;case x.SeriesType.DUAL_MEASURE_TREE_MAP:n=x.getDualMeasureSingleFieldTreeMapOptions(i,s,r);break;case x.SeriesType.TREE_MAP:case x.SeriesType.ONE_PARENT_TREE_MAP:n=x.getTreeMapOptions(i,s,r);break;case x.SeriesType.GAUGE:n=x.getGaugeOptions(i,s,t,a,r);break;case x.SeriesType.MULTI_LEVEL_GAUGE:n=x.getMultiLevelGaugeOptions(i,s,t,a,r);break;case x.SeriesType.ARC_GAUGE:n=x.getArcGaugeOptions(i,s,t,a,r);break;default:throw"Unknown series enum type: ".type}return n},getColor:function(e){return x.colors[e%x.colors.length]},getColorWithAlpha:function(e,t){var a=x.rgbColors[e%x.colors.length];return"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+t+")"},generateXAxisLabelsOptions:function(e){var t={step:e.step,maxStaggerLines:1,style:{fontSize:"1em"}};return 0!==e.rotation&&(i.extend(t,{rotation:e.rotation}),e.adjustPosition&&90===e.rotation?t.x=-4:270===e.rotation&&(t.x=4)),t},doAxisSwap:function(e){return-1!=e.indexOf("bar")},getLegendOptions:function(e){var t={borderWidth:e.chartState.legendBorder?1:0,symbolRadius:0,symbolHeight:12,symbolWidth:12,squareSymbol:!0,itemMarginBottom:5,itemStyle:{fontWeight:"normal",fontSize:"1em"}};switch(this.isHeatMapBasedChart(e.chartState.chartType)&&(delete t.symbolWidth,delete t.symbolHeight),"none"===e.chartState.legend?t.enabled=!1:x.isScatterOrBubbleChart(e.chartState.chartType)?t.enabled=!x.isTotalSelectedOnly(e,1):t.enabled=!0,e.chartState.legend){case"top":t.align="center",t.verticalAlign="top";break;case"left":case"right":t.align=e.chartState.legend,t.verticalAlign="middle",t.layout="vertical"}return t},getGeneralOptions:function(e){return{chart:{backgroundColor:e.chartState.chartBackgroundColor,plotBackgroundColor:e.chartState.plotBackgroundColor,renderTo:"chartContainer",zoomType:"xy",type:x.adHocToHighchartsChartTypeMap[e.chartState.chartType],polar:x.isSpiderChart(e.chartState.chartType),style:{fontSize:"1em"}},credits:{enabled:!1},title:{text:null},tooltip:{valueDecimals:2,useHTML:!0,style:{fontSize:"1em"}}}},getCommonSeriesGeneralOptions:function(e){var t=x.doAxisSwap(e.chartState.chartType),a=i.extend(x.getGeneralOptions(e),{xAxis:x.getXAxisOptions(t,e),yAxis:x.isDualOrMultiAxisChart(e.chartState.chartType)?[]:x.getYAxisOptions(t,e),plotOptions:{series:{marker:{enabled:e.chartState.showDataPoints},tooltip:{dateTimeLabelFormats:e.isTimeSeries?x.getDateTimeLabelFormats(e.chartState.timeSeriesCategorizerName):void 0,xDateFormat:e.isTimeSeries?x.getDateTimeTooltipFormats(e.chartState.timeSeriesCategorizerName):void 0}}},series:[],legend:x.getLegendOptions(e)});return x._isTooltipFollowPointerEnabled(e.chartState.chartType)&&(a.tooltip.followPointer=!0),x.isDualOrMultiAxisChart(e.chartState.chartType)||x.isSpiderChart(e.chartState.chartType)?a.tooltip.shared=!0:a.tooltip.shared=!1,a},isTotalSelectedOnly:function(e,t){var a=0===t?e.chartState.rowsSelectedLevels:e.chartState.columnsSelectedLevels,r=!0;return e.metadata.isOLAP?i.each(a,function(e){"(All)"!=e.name&&(r=!1)}):r=0===a.length,r},getXAxisOptions:function(e,t){var a={categories:[],title:{text:x.isScatterOrBubbleChart(t.chartState.chartType)?t.metadata.measures[0]:""}};return x.isSpiderChart(t.chartState.chartType)&&(a.tickmarkPlacement="on",a.lineWidth=0),a.labels=x.generateXAxisLabelsOptions({rotation:e?t.chartState.yAxisRotation:t.chartState.xAxisRotation,adjustPosition:!e,step:e?t.chartState.yAxisStep:t.chartState.xAxisStep}),e&&Math.abs(t.chartState.xAxisRotation)>=75&&(a.labels.align="right"),a.offset=Math.abs(t.chartState.xAxisRotation)>60?5:0,t.isTimeSeries&&(a.dateTimeLabelFormats=x.getDateTimeLabelFormats(t.chartState.timeSeriesCategorizerName),a.type="datetime"),a},getYAxisOptions:function(e,t){var a={title:{text:" "},labels:{rotation:e?t.chartState.xAxisRotation:t.chartState.yAxisRotation,step:e?t.chartState.xAxisStep:t.chartState.yAxisStep,style:{fontSize:"1em"}}};return x.isScatterOrBubbleChart(t.chartState.chartType)?a.title.text=t.metadata.measures[1]:t.chartState.showMeasureOnValueAxis&&1==t.metadata.measures.length&&(a.title.text=t.metadata.measures[0]),x.isSpiderChart(t.chartState.chartType)&&(a.gridLineInterpolation="polygon",a.lineWidth=0,a.min=0,a.labels.rotation>0&&(a.labels.x=-a.labels.rotation/90*10)),a},getDateTimeLabelFormats:function(e){return x.dateTimeLabelFormatsMap[e]},getDateTimeTooltipFormats:function(e){return x.dateTimeTooltipFormatsMap[e]},getCommonSeries:function(e,t,a){var r=a.isTimeSeries,i=a.chartState.chartType;x.groupedCategories=!1,x.highchartsCategories=[],x.measureMin=null,x.measureMax=null;var s=this.getCommonSeriesGeneralOptions(a);return x.setupOptionsSeries(t,s,i,a),x.setupOptionsYAxis(t,s,i,a),x.populateOptionsDataAndCategories(e,t,s,i,r,a),x.setCategories(s,r||x.isScatterOrBubbleChart(i),i),s},setupOptionsSeries:function(e,t,a,r){for(var i=x.isScatterOrBubbleChart(a),s=r.metadata.measures.length,n=i?e.length/s:e.length,o=0;o<n;o++){var l,u=i&&!x._isMeasureFirst(r.metadata)?e[o*s]:e[o],p=x.assembleFullGroupLinearName(1,u,r),c=o==n-1;if(x.isScatterOrBubbleChart(a)){r.chartState.columnsSelectedLevels.length;l={headerFormat:r.chartState.rowsSelectedLevels.length>0?"{point.key}<br/>":"",pointFormat:x.constructTooltipPointFormat(a,r),followPointer:!0}}t.series.push({name:p,data:[],color:i?x.getColorWithAlpha(o,.75):x.getColor(o),type:x.isDualOrMultiAxisChart(a)?x.getDualOrMultiAxisHighchartsType(a,c):void 0,yAxis:x.isMultiAxisChart(a)?o:0,tooltip:l,columnsOutputParams:x.createOutputParameters(u,1,r)})}},createOutputParameters:function(e,t,a){var r=a.metadata.measures,i=a.chartState.chartType,s=x.getActiveAxisLevels(t,a),n=u.getLabelNameArray(t,e).reverse();n.splice(0,n.length-s.length);for(var o=[],l=0;l<s.length;l++)o.push({name:s[l],value:x._isMeasuresDimension(s[l].dimension)&&x.isScatterOrBubbleChart(i)?r:n[l]});return o},getActiveAxisLevels:function(e,t){var a,r=t.metadata.axes[e];if(t.metadata.isOLAP){var s=0===e?t.chartState.rowsSelectedLevels:t.chartState.columnsSelectedLevels;a=i.filter(s,function(e){return"(All)"!=e.name})}else{for(var n=0===e?t.chartState.rowsSelectedLevels[0]:t.chartState.columnsSelectedLevels[0],o=n?1:0;n&&(r[o-1].dimension!=n.dimension||r[o-1].name!=n.name);)o++;a=[].concat(r),a.splice(o,a.length-o)}if(t.metadata.measureAxis==e){var l=u.getMeasureLevelNumber(t.metadata),p=r[l-1];t.metadata.isOLAP?l>a.length?a.push(p):a.splice(l-1,0,p):l>a.length&&a.push(p)}return a},constructTooltipPointFormat:function(e,t){var a=t.chartState.columnsSelectedLevels.length>0,r=x.isTotalSelectedOnly(t,1),i="";return a&&!r&&(i+='<span style="color:{series.color}">{series.name}</span> <br/>'),i+=t.metadata.measures[0]+" : <b>{point.x:,.2f}</b><br/>"+t.metadata.measures[1]+" : <b>{point.y:,.2f}</b>"+(x.isBubbleChart(e)?"<br/>"+t.metadata.measures[2]+" : <b>{point.z:,.2f}</b> ":"")},setupOptionsYAxis:function(e,t,a,r){if(x.isDualAxisChart(a)){t.series[e.length-1].yAxis=1;var i=r.chartState.showMeasureOnValueAxis&&2==t.series.length?t.series[0].name:"";t.yAxis.push(x.getYAxisForDualOrMultiAxisChart(r,0,i)),t.yAxis.push(x.getYAxisForDualOrMultiAxisChart(r,e.length-1,t.series[e.length-1].name))}else if(x.isMultiAxisChart(a))for(var s=0;s<e.length;s++)t.yAxis.push(x.getYAxisForDualOrMultiAxisChart(r,s,t.series[s].name))},populateOptionsDataAndCategories:function(e,t,a,r,s,n){for(var o=x.isScatterOrBubbleChart(r),l=n.metadata.measures.length,u=o?t.length/l:t.length,p=0;p<e.length;p++){for(var c=e[p],m=0;m<u;m++){var h=a.series[m];if(o){var g=[];if(n.chartState.showScatterLine&&(h.lineWidth=1),x._isMeasureFirst(n.metadata))for(var d=0;d<l;d++){var y=x.getDataValue(c,t[m+d*u],!0);g.push(y)}else for(var f=0;f<l;f++)g.push(x.getDataValue(c,t[m*l+f],!0));if(!i.every(g,function(e){return null==e})){g=i.map(g,function(e){return null==e?0:e}),x.measureMinMax(g[0]),x.measureMinMax(g[1]);var S;if(x.isScatterChart(r))S={x:g[0],y:g[1],name:x.assembleFullGroupHierarchyName(0,c,n),rowsOutputParams:x.createOutputParameters(c,0,n)};else{if(!x.isBubbleChart(r))throw"Unexpected chart type";S={x:g[0],y:g[1],z:g[2],name:x.assembleFullGroupHierarchyName(0,c,n),rowsOutputParams:x.createOutputParameters(c,0,n)}}h.data.push(S)}}else{var M=x.getDataValue(c,t[m],!0);if(s){if(null!=M.value&&null!=M.timestamp){x.measureMinMax(M.value);var b=x.createOutputParameters(c,0,n);b[0].value=M.timestamp,h.data.push({x:M.timestamp,y:M.value,rowsOutputParams:b})}}else x.measureMinMax(M),h.data.push({y:M,rowsOutputParams:x.createOutputParameters(c,0,n)})}}if(!s&&!o){var T=x.assembleFullGroupHierarchyName(0,c,n);a.xAxis.categories.push({name:T})}}x.isBubbleChart(r)&&1===u&&(a.xAxis.startOnTick=!0,a.xAxis.endOnTick=!0),s&&(a.series[0].data=a.series[0].data.sort(function(e,t){return e.x-t.x}))},getYAxisForDualOrMultiAxisChart:function(e,t,a){var r=x.getYAxisOptions(x.doAxisSwap(e.chartState.chartType),e);return r.opposite=0!==t,r.labels.style={color:x.getColor(t),fontSize:"1em"},r.title={text:a,style:{color:x.getColor(t)}},!1===r.opposite&&(r.offset=Math.abs(e.chartState.yAxisRotation)>60?5:0),r},setCategories:function(e,t,a){t?e.xAxis.categories=void 0:x.groupedCategories&&this.areCategoriesSupported(a)&&(e.xAxis.categories=x.highchartsCategories)},areCategoriesSupported:function(e){return-1==e.indexOf("spider")&&(e.indexOf("column")>=0||e.indexOf("area")>=0||e.indexOf("line")>=0||e.indexOf("spline")>=0)},getPieSeries:function(e,t,a,r,s){x.measureMin=null,x.measureMax=null;var n,o=(i.isArray(r)?r.length:r)+s.metadata.measureAxis,l=15*o+10,p=s.width,c=s.height,m=u.getDataStyle(),h=i.extend(x.getGeneralOptions(s),{xAxis:{categories:[]},plotOptions:{pie:{slicedOffset:0,point:{events:{legendItemClick:x._getLegendItemClickHandler}}}},series:[],labels:{items:[]},legend:x.getLegendOptions(s)});if(m===g.ON_SAME_AXIS_ONLY)if(s.metadata.axes[0].length>0){var d=t[0],y=1,f=y+1,S=100/f,M=S,b=[],T=M+"%",O="50%";b.push(T),b.push(O);var A=u.getMessage("totalsLabelForChart");s.metadata.measures[0].name&&(A=s.metadata.measures[0].name),h.series.push({type:"pie",name:A,data:[],center:b,size:2*S+"%",showInLegend:!0,dataLabels:{enabled:!1},columnsOutputParams:x.createOutputParameters(d,1,s)});for(var v=0;v<e.length;v++){var C=e[v],_=x.getDataValue(C,d);x.measureMinMax(_),n=x.assembleFullGroupLinearName(0,C,s),h.series[0].data.push({name:n,y:_,rowsOutputParams:x.createOutputParameters(C,0,s)})}}else{var P=e[0],L=s.metadata.axes[1].length<=1,E=u.isMeasuresLastOnAxis(1),D=s.metadata.measures.length,y=1;L||(y=E?t.length/D:t.length);for(var N=x.getSquareSideLength(y,p,c),k=0;k<y;k++){var B=x.computePieParams(k+1,N,p,c,l,y),G=k;if(n=u.getMessage("allLabelForChart"),!L)if(E){G=k*D;var H=t[G];n=H.parent.label}else n=t[k].label;var b=[],T=B.xAxisPositionPercent+"%",O=B.yAxisPositionPercent+"%";b.push(T),b.push(O);var G=k;E&&(L||(G=k*D)),h.series.push({type:"pie",name:t[G].label,data:[],center:b,size:B.pieSizePercent+"%",showInLegend:k<=0,dataLabels:{enabled:!1},title:{text:n,verticalAlign:"top",y:3-l},columnsOutputParams:x.createOutputParameters(t[G],1,s)})}if(L)for(var v=0;v<t.length;v++){var F=t[v],_=x.getDataValue(P,F);x.measureMinMax(_),n=x.assembleFullGroupLinearName(1,F,s),h.series[0].data.push({x:n,y:_,rowsOutputParams:x.createOutputParameters(P,0,s)})}else if(E)for(var w=(t[0].label,0),I=0,v=0;v<t.length;v++){var F=t[v];if(++I>D){if(++w>=y)throw"highchart.datamapper getPieSeries: exceeded numberOfPies="+numberOfPies;I=1}var _=x.getDataValue(P,F);x.measureMinMax(_),n=F.label,h.series[w].data.push({name:n,y:_,rowsOutputParams:x.createOutputParameters(P,0,s)})}else for(var v=0;v<t.length;v++){var F=t[v],_=x.getDataValue(P,F);x.measureMinMax(_),n=x.assembleFullGroupHierarchyName(1,F,s),h.series[v].data.push({name:n,y:_,rowsOutputParams:x.createOutputParameters(P,0,s)})}}if(m===g.ON_BOTH_AXIS||m===g.ON_SEPARATE_AXIS){for(var N=x.getSquareSideLength(t.length,p,c),k=0;k<t.length;k++){var B=x.computePieParams(k+1,N,p,c,l,t.length),z=t[k].label,n=x.assembleFullGroupHierarchyName(1,t[k],s),R=z,b=[],T=B.xAxisPositionPercent+"%",O=B.yAxisPositionPercent+"%";b.push(T),b.push(O);var V=!(k>0);h.series.push({type:"pie",name:R,data:[],center:b,size:B.pieSizePercent+"%",showInLegend:V,dataLabels:{enabled:!1},title:{text:n,verticalAlign:"top",y:3-l},columnsOutputParams:x.createOutputParameters(t[k],1,s)})}for(var v=0;v<t.length;v++)for(var F=t[v],j=0;j<e.length;j++){var C=e[j],_=x.getDataValue(C,F);x.measureMinMax(_),n=x.assembleFullGroupLinearName(0,C,s),h.series[v].data.push({name:n,y:_,rowsOutputParams:x.createOutputParameters(C,0,s)})}}return h},getGaugeOptions:d,getMultiLevelGaugeOptions:y,getArcGaugeOptions:f,getSemiPieSeries:function(e,t,a,r,i){var s,n,o=this.getPieSeries(e,t,a,r,i);o.plotOptions.pie.startAngle=-90,o.plotOptions.pie.endAngle=90;for(var l=0;l<o.series.length;l++)n=parseFloat(o.series[l].size),s=parseFloat(o.series[l].center[1]),s+=s*n/100/2,o.series[l].center[1]=s+"%";return o},getDualLevelPieSeries:function(e,t,a,r,s){x.measureMin=null,x.measureMax=null;var n,o,l,p,c,m=[],g=t[0],d="(empty axis)"===g.label?"Value":g.label,y=x.colors,f=y.length,S=0,M=-1,b=!1;s.chartState.chartType;s.metadata.isOLAP?"(All)"!==s.metadata.axes[0][0].name&&(a[0].level-=1,m=u.getNodeListForDimLevelRadio(0,a)):x._isMeasureFirst(s.metadata)&&(m=u.getNodeListForSliderLevel(0,a-1));var T=i.extend(x.getGeneralOptions(s),{xAxis:{categories:[]},plotOptions:{pie:{dataLabels:{style:{fontWeight:"normal",textShadow:"none"}},slicedOffset:0,point:{events:{legendItemClick:x._getLegendItemClickHandlerDisabled}}}},series:[],labels:{items:[]},legend:x.getLegendOptions(s)});T.series.push({name:d,data:[],center:["50%","50%"],size:"60%",showInLegend:!1,dataLabels:{color:"white",distance:-50,style:{fontSize:"1em"}},columnsOutputParams:x.createOutputParameters(g,1,s)});for(var O=0;O<m.length;O++)p=m[O],o=x.getDataValue(p,t[0]),n=x.assembleFullGroupLinearName(0,p,s),p.parent.color=y[O%f],T.series[0].data.push({name:n,y:o,color:y[O%f],rowsOutputParams:x.createOutputParameters(p,0,s)});0===T.series[0].data.length&&(b=!0),T.series.push({name:d,data:[],center:["50%","50%"],size:"90%",innerSize:"60%",showInLegend:!0,dataLabels:{enabled:!1,style:{fontSize:"1em"}},columnsOutputParams:x.createOutputParameters(g,1,s)});for(var O=0;O<e.length;O++)l=e[O],l===l.parent.children[0]||s.metadata.isOLAP&&l===l.parent.children[0].children[0]?(S=0,M++,b&&(T.series[0].data.push({name:x.assembleFullGroupLinearName(0,l.parent,s),y:0,color:y[M%f],rowsOutputParams:x.createOutputParameters(l,0,s)}),l.parent.color=y[M%f])):S++,o=x.getDataValue(l,g),n=x.assembleFullGroupLinearName(0,l,s),c=.2-S/l.parent.children.length/5,T.series[1].data.push({name:n,y:o,color:h.Color(l.parent.color||y[0]).brighten(c).get(),rowsOutputParams:x.createOutputParameters(l,0,s)}),b&&(T.series[0].data[M].y+=o);return e.length||(T.series[0].data=[]),T},getCommonHeatMapOptions:function(e,t,a,r){var s=x.getCommonSeriesGeneralOptions(a);i.include(["bottom","top"],a.chartState.legend);return s=i.extend(s,{colorAxis:i.extend(i.clone(x.colorAxis),{labels:{style:{fontSize:"1em"}},tickPixelInterval:x.HEATMAP_LEGEND_TICK_INTERVAL}),series:[{borderWidth:1,data:[],dataLabels:{enabled:!1},chartType:"heatmap",columnsOutputParams:x.createOutputParameters(t[0],1,a)}],tooltip:{valueDecimals:2,formatter:function(){var e,a;return e="{{- pointY }}, {{- pointX }}<br/>{{- label }}: <b>{{- value }}</b>",a={pointY:this.series.yAxis.categories[this.point.y],pointX:this.series.xAxis.categories[this.point.x],label:t[0].label,value:r&&null===this.point.value?"null":h.numberFormat(this.point.value,2)},i.template(e)(a)},useHTML:!0,style:{fontSize:"1em"}}}),s.yAxis.title=null,s.xAxis.gridLineWidth=s.yAxis.gridLineWidth=r?0:1,s},getHeatMapOptions:function(e,t,a){x.measureMin=null,x.measureMax=null;var r=x.getCommonHeatMapOptions(e,t,a,!0);r.legend.padding=15;var i=x.computeHeatMapMatrixData(e,t,!0,a);return r.series[0].data=i.data,r.series[0].heatmapXCategories=i.xCategories,r.xAxis.categories=i.xCategories,r.yAxis.categories=i.yCategories,1!==i.xCategories.length&&(r.xAxis.minRange=1),1!==i.yCategories.length&&(r.yAxis.minRange=1),r.colorAxis.min=x.measureMin,r.colorAxis.max=x.measureMax,r},computeHeatMapMatrixData:function(e,t,a,r){var s,n,o=!1,l={data:[],xCategories:[],yCategories:[]};return i.each(t,function(t,u){n=t.parent,l.xCategories.push(n.label),i.each(e,function(e,t){o||l.yCategories.push(e.label),(null!==(s=x.getDataValue(e,n.children[0],!0))||a)&&(x.measureMinMax(s),l.data.push({x:u,y:t,value:s,rowsOutputParams:x.createOutputParameters(e,0,r)}))}),o=!0}),l},getHeatMapTimeSeriesOptions:function(e,t,a){var r,s,o,u,p,c,m,g,d,y,f,S={};if(f=x.getCommonHeatMapOptions(e,t,a,!0),f.series[0].chartType="timeseries_heatmap",f.legend.padding=15,!e.length)return f;y=x.getDataValue(e[0],t[0]),x.measureMin=x.measureMax=y.value,c=m=y.timestamp,i.each(e,function(e){var a=x.getDataValue(e,t[0],!0),r=a.value;S[a.timestamp]=r,c=Math.min(c,a.timestamp),m=Math.max(m,a.timestamp),x.measureMinMax(r)}),g=x.createOutputParameters(e[0],0,a),s=c,o=n(s,"x").tz(l.userTimezone);do{d=S.hasOwnProperty(s)?S[s]:null,r=o.hour(),p=s-60*r*60*1e3,g[0].value=p,f.series[0].data.push({x:p,currentTimestamp:s,y:r,value:d,rowsOutputParams:i.cloneDeep(g)}),o.add(1,"hours"),s+=36e5}while(s<=m);for(f.colorAxis.min=x.measureMin,f.colorAxis.max=x.measureMax,f.yAxis=i.extend(f.yAxis,{startOnTick:!1,endOnTick:!1,reversed:!0,tickPositioner:function(){return i.range(this.dataMin,this.dataMax+1,1)},minRange:8,labels:i.extend(f.yAxis.labels,{format:"{value}:00"})}),f.series[0].name=t[0].label,f.series[0].colsize=864e5,f.series[0].borderWidth=0,u=n(c,"x").tz(l.userTimezone),u.hour(0),f.xAxis.min=parseInt(u.format("x")),u=n(m,"x").tz(l.userTimezone),u.hour(0),f.xAxis.max=parseInt(u.format("x")),f.xAxis.minRange=2592e6,f.xAxis.type="datetime",f.xAxis.categories=null,f.xAxis.endOnTick=!1,f.xAxis.labels=i.extend(f.xAxis.labels,{format:"{value:%B}"}),f.xAxis.tickPositions=[],f.xAxis.tickPositions.push(c),s=c,o=n(s,"x").tz(l.userTimezone),o.day(1),o.hour(0),o.minute(0),o.second(0),o.add(1,"months"),s=parseInt(o.format("x"));s<=m;)f.xAxis.tickPositions.push(s),o.add(1,"months"),s=parseInt(o.format("x"));return f.tooltip=i.extend(f.tooltip,{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,style:{padding:0,color:"black",fontSize:"1em"},formatter:function(){var e,a;return e="<span style='color:{{- color }}'>&#x25cf;</span> {{- label }}<br/>{{- point }} <b>{{- value }}</b>",a={color:this.series.color,label:t[0].label,point:n(this.point.currentTimestamp,"x").tz(l.userTimezone).format("D MMM YYYY HH:mm"),value:null===this.point.value?"null":h.numberFormat(this.point.value,2)},i.template(e)(a)}}),f.chart.isHeatMapTimeSeriesChart=!0,f},getDualMeasureSingleFieldTreeMapOptions:function(e,t,a){var r=x.getCommonSeriesGeneralOptions(a);delete r.xAxis,delete r.yAxis,delete r.legend,delete r.plotOptions;var s=[];i.each(e,function(e,a){var r,i=x.getDataValue(e,t[0],!0),n=x.getDataValue(e,t[1],!0);r=e.label,""===r&&(r=" "),s.push({id:"row_"+a,name:r,measure1Name:t[0].label,measure2Name:t[1].label,value:i,colorValue:n})});var n=function(){var e,t,a=this.point.value,r=this.point.colorValue,s=this.point.measure1Name,n=this.point.measure2Name;return a=null===a?"null":h.numberFormat(a,2),r=null===r?"null":h.numberFormat(r,2),e="{{- key }}</br>{{- measure1Name }}: <b>{{- measure1Value }}</b></br>{{- measure2Name }}: <b>{{- measure2Value }}</b>",t={key:this.key,measure1Name:s,measure1Value:a,measure2Name:n,measure2Value:r},i.template(e)(t)},o=!0,l="center",u="bottom",p="horizontal";switch(a.chartState.legend){case"top":l="center",u="top",p="horizontal";break;case"right":l="right",u="middle",p="vertical";break;case"bottom":l="center",u="bottom",p="horizontal";break;case"left":l="left",u="middle",p="vertical";break;case"none":o=!1}return i.extend(r,{plotOptions:{treemap:{}},legend:{title:{text:t[1].label},enabled:o,align:l,layout:p,borderWidth:a.chartState.legendBorder?1:0,backgroundColor:"rgba(255,255,255,0.85)",verticalAlign:u,padding:15},colorAxis:{minColor:"#FFFFFF",maxColor:h.getOptions().colors[0],maxPadding:2,tickWidth:1},series:[{borderWidth:1,data:s,dataLabels:{enabled:!1},layoutAlgorithm:"squarified",chartType:"treemap",allowDrillToNode:!0,levels:[{level:1,dataLabels:{enabled:!0},borderWidth:3}]}],tooltip:{valueDecimals:2,formatter:n,useHTML:!0,style:{fontSize:"1em"}}})},getTreeMapOptions:function(e,t,a){var r=!1;"one_parent_tree_map"===a.chartState.chartType&&(r=!0);var s=t[0].label,n=[],l={},p=function(e,t){return"/@#/"+i.clone(e).slice(t).reverse().join("/@#/")},c=function(e,t){var a,r;for(a=t;a<e.length;a++)if(" "!==(r=e[a]))return r;return" "};i.each(e,function(e){var a,o,m,h,g,d,y,f=u.getLabelNameArray(null,e),S=x.getDataValue(e,t[0],!0);for(i.each(f,function(e,t){""===e&&(f[t]=" ")}),o=p(f,0),m=p(f,1),a=1;a<f.length&&(y=c(f,a),h=p(f,a),g=p(f,a+1),l[h]||(l[h]={id:h,name:y,value:0,measureName:s,tooltipLabel:i.clone(f).slice(a).join(", ")},!1===r&&"/@#/"!==g&&(l[h].parent=g)),l[h].value+=S,!r);a++);d={id:o,name:f[0],value:S,measureName:s,tooltipLabel:i.clone(f).join(", ")},"/@#/"!==m&&(d.parent=m),n.push(d)}),i.each(l,function(e){n.push(e)});for(var m,g=0,d=h.getOptions().colors,y=0,f=n.length;y<f;y++)m=n[y],m.parent||(m.color=d[g%d.length],g++);var S=x.getCommonSeriesGeneralOptions(a);delete S.xAxis,delete S.yAxis,delete S.legend,delete S.plotOptions,0!==Object.keys(l).length&&(S.chart.marginTop=50);var M=function(){var e,t;return e="{{ if (tooltipLabel) { }}{{- tooltipLabel }}</br>{{ } }}{{- measureName }}: <b>{{- value }}</b>",t={tooltipLabel:this.point.tooltipLabel,measureName:this.point.measureName,value:null===this.point.value?"null":h.numberFormat(this.point.value,2)},i.template(e)(t)},b=i.extend(S,{plotOptions:{treemap:{},series:{dataLabels:{overflow:"none"}}},series:[{borderWidth:1,data:n,dataLabels:{enabled:!1},layoutAlgorithm:"squarified",chartType:"treemap",allowDrillToNode:!0,drillUpButton:{relativeTo:"plotBox",position:{y:-45}},levels:[{level:1,dataLabels:{enabled:!0},borderWidth:3}],levelIsConstant:!1}],tooltip:{valueDecimals:2,formatter:M,useHTML:!0,style:{fontSize:"1em"}}});return(o.isIE()||o.isEdge())&&(b.tooltip.animation=!1),b},_getLegendItemClickHandler:function(e){e.preventDefault();var t=i.flatten(i.pluck(this.series.chart.series,"data")),a=this;i.each(t,function(e){e.name==a.name&&e.setVisible(!e.visible)})},_getLegendItemClickHandlerDisabled:function(e){e.preventDefault()},getSquareSideLength:function(e,t,a){if(t*a<e)return 0;var r=a/t,i=Math.sqrt(e/r),s=i*r,n=Math.max(1,Math.floor(i)),o=Math.max(1,Math.floor(s)),l=Math.floor(t/n),u=Math.floor(a/o),p=Math.min(l,u);if(n=Math.floor(t/p),o=Math.floor(a/p),n*o<e)if((n+1)*o<e&&n*(o+1)<e)l=Math.floor(t/(n+1)),u=Math.floor(a/(o+1)),p=Math.min(l,u);else{var c=Math.ceil(e/o),m=Math.ceil(e/n);l=Math.min(Math.floor(t/c),Math.floor(a/o)),u=Math.min(Math.floor(t/n),Math.floor(a/m)),p=Math.max(l,u)}return p},computePieParams:function(e,t,a,r,i,s){var n=Math.min(Math.floor(a/t),s),o=Math.min(Math.floor(r/t),s),l=(a-t*n)/n,u=(r-t*o)/o,p=e%n==0?n:e%n,c=Math.floor(e/n)+(e%n==0?0:1),m=t*p-t/2+l*p/2,h=t*c-t/2+u*c/2,g=i+10;return{xAxisPositionPercent:100*(m-g/2)/a,yAxisPositionPercent:100*(h+g/2+5)/r,pieSizePercent:100*(t-g)/(a<r?a:r)}},measureMinMax:function(e){null!==e&&(null===x.measureMin?(x.measureMin=e,x.measureMax=e):(x.measureMin=Math.min(e,x.measureMin),x.measureMax=Math.max(e,x.measureMax)))},yAxisTickAdjust:function(e){if(!(x.measureMin<0)&&e.yAxis){var t=i.isArray(e.yAxis)?e.yAxis:[e.yAxis];0!==x.measureMin&&x.measureMin--,i.each(t,function(e){e.min||(e.min=x.measureMin,e.startOnTick=!0)})}},assembleFullGroupName:function(e,t,a,r){var i=r.chartState.chartType,s="",n=u.getLabelNameArray(e,t),o=r.metadata;if(1==e&&x.isScatterOrBubbleChart(i)&&(x._isMeasureFirst(o)?n.pop():n.shift()),!r.chartState.showSingleMeasuresLabels&&1===o.measures.length&&o.measureAxis===e){n=n.reverse();for(var l=o.axes[o.measureAxis],p=0,c=l.length;p<c;p++)"Measures"===l[p].dimension&&(p<n.length?n.splice(p,1):n.pop());n=n.reverse(),n.length||n.push("\xa0")}var m="<br>";x.isBarChart(i)?(n=n.reverse(),m=", "):x.isScatterOrBubbleChart(i)&&(m=", ");for(var h=n.length,g=0;g<h;g++)s+=n[g],g<h-1&&(s+=a?m:", ");return 0===e&&h>1&&(x.groupedCategories=!0,x.addLeaf2HighchartsCategory(n)),s},assembleFullGroupHierarchyName:function(e,t,a){return x.assembleFullGroupName(e,t,!0,a)},assembleFullGroupLinearName:function(e,t,a){return x.assembleFullGroupName(e,t,!1,a)},addLeaf2HighchartsCategory:function(e){if(null==x.highchartsCategories&&(x.highchartsCategories=[]),e.length<=1)return void x.highchartsCategories.push(e[0]);for(var t=x.highchartsCategories,a=e.length-1;a>=0;a--){var r=e[a];if(0===a)return void t.push(r);for(var i=null,s=0;s<t.length;s++)t[s].name===e[a]&&(i=t[s]);null==i&&(i={name:e[a],categories:[]},t.push(i)),t=i.categories}},getDataValue:function(e,t,a){var s,o=u.getDataFromRowColumn(e,t);return"object"!==r(o)&&isNaN(o)&&(o=null),i.isObject(o)&&"string"==typeof o.timestamp&&(s=n(o.timestamp),s.isValid()&&(o.timestamp=parseInt(s.format("x")))),a?o:null==o?0:o}}),i.extend(x,{_isTooltipFollowPointerEnabled:function(e){return!i.contains(["line","spline","area","stacked_area","percent_area","spline_area","line_time_series","spline_time_series","area_time_series","spline_area_time_series","pie","semi_pie","dual_level_pie","heat_map","heat_map_time_series","dual_measure_tree_map","tree_map","one_parent_tree_map"],e)},_isMeasureFirst:function(e){var t=e.axes[e.measureAxis];return t.length>0&&x._isMeasuresDimension(t[0].dimension)},_isMeasuresDimension:function(e){return"Measures"===e}}),i.extend(x,{isDualOrMultiAxisChart:function(e){return x.isDualAxisChart(e)||x.isMultiAxisChart(e)},isDualLevelPieChart:function(e){return"dual_level_pie"===e},isSpiderChart:function(e){return i.contains(["spider_column","spider_line","spider_area"],e)},isDualAxisChart:function(e){return i.contains(["column_line","column_spline","stacked_column_line","stacked_column_spline"],e)},isMultiAxisChart:function(e){return i.contains(["multi_axis_line","multi_axis_spline","multi_axis_column"],e)},isScatterChart:function(e){return i.contains(["scatter"],e)},isBubbleChart:function(e){return i.contains(["bubble"],e)},isScatterOrBubbleChart:function(e){return x.isScatterChart(e)||x.isBubbleChart(e)},isBarChart:function(e){return-1!=e.indexOf("bar")},isHeatMapChart:function(e){return"heat_map"===e},isHeatMapTimeSeriesChart:function(e){return"heat_map_time_series"===e},isHeatMapBasedChart:function(e){return i.contains(["heat_map","heat_map_time_series"],e)},isDualMeasureTreeMapChart:function(e){return"dual_measure_tree_map"===e},isTreeMapChart:function(e){return"tree_map"===e},isOneParentTreeMapChart:function(e){return"one_parent_tree_map"===e},isGaugeChart:function(e){return"gauge"===e},isMultiLevelGaugeChart:function(e){return"multi_level_gauge"===e},isArcGaugeChart:function(e){return"arc_gauge"===e},isGaugeBasedChart:function(e){return this.isGaugeChart(e)||this.isMultiLevelGaugeChart(e)||this.isArcGaugeChart(e)}}),i.extend(x,{getHighchartsOptions:function(e,t,a,r){var s,n=x.typeToOptionsMap[e](t,a,r);x.setTurboThreshold(n),s=!(x.isDualLevelPieChart(e)||x.isHeatMapChart(e)||x.isHeatMapTimeSeriesChart(e)||x.isBubbleChart(e)||x.isDualMeasureTreeMapChart(e)||x.isTreeMapChart(e)||x.isOneParentTreeMapChart(e)),x.defaultPlotShadow(n,s);var o=function t(a){var r=(x.isSpiderChart(e)||x.isBarChart(e),150);if(a.length>0)if(i.isObject(a[0]))i.each(a,function(e){e.name=l(e.name,r),e.categories&&t(e.categories)});else for(var s=0;s<a.length;s++)a[s]=l(a[s],r)},l=function(e,t){return e?(e=e.substring(0,t),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/&lt;br&gt;/g,"<br>")):e="",e};return i.each(["xAxis","yAxis"],function(e){var t=i.isArray(n[e])?n[e]:[n[e]];i.each(t,function(e){e&&e.categories&&o(e.categories)})}),x.isSpiderChart(e)&&n.xAxis.categories.length&&(n.chart.spacingTop=1.8*(n.xAxis.categories[0].name.split("<br>").length-1),n.chart.spacingTop*=8*(1+Math.abs(Math.sin((n.xAxis.labels.rotation||0)*Math.PI/180)))),x.isTreeMapChart(e)||(n.colors=x.colors),n=x.correctEmptySeriesNames(n)},setTurboThreshold:function(e){if(e.plotOptions){var t=-1/0;i.each(e.series,function(e){t=Math.max(e.data.length,t)}),t>1e3&&((e.plotOptions.series||e.plotOptions.pie||e.plotOptions.treemap).turboThreshold=t+1)}},defaultPlotShadow:function(e,t){var a=e.plotOptions,r=e.chart?e.chart.type:void 0,s=r?[r]:[];0===s.length&&(s=i.pluck(e.series,"type")),a||(a={}),i.each(s,function(e){a[e]||(a[e]={}),a[e].shadow=t})},typeToOptionsMap:{column:function(e,t,a){return x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},stacked_column:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="normal",r},percent_column:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="percent",r},bar:function(e,t,a){return x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},stacked_bar:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="normal",r},percent_bar:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="percent",r},spider_column:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.pointPlacement="on",r},line:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},
area:function(e,t,a){return x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},spline_area:function(e,t,a){return x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},stacked_area:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="normal",r},percent_area:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="percent",r},spider_line:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.pointPlacement="on",r},spider_area:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.pointPlacement="on",r},pie:function(e,t,a){return x.getSeriesByType(x.SeriesType.PIE,e,t,a)},semi_pie:function(e,t,a){return x.getSeriesByType(x.SeriesType.SEMI_PIE,e,t,a)},dual_level_pie:function(e,t,a){return x.getSeriesByType(x.SeriesType.DUAL_LEVEL_PIE,e,t,a)},spline:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},line_time_series:function(e,t,a){a.isTimeSeries=!0;var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},spline_time_series:function(e,t,a){a.isTimeSeries=!0;var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},area_time_series:function(e,t,a){return a.isTimeSeries=!0,x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},spline_area_time_series:function(e,t,a){return a.isTimeSeries=!0,x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},column_line:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},column_spline:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},stacked_column_line:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="normal",x.yAxisTickAdjust(r),r},stacked_column_spline:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return r.plotOptions.series.stacking="normal",x.yAxisTickAdjust(r),r},multi_axis_line:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},multi_axis_spline:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},multi_axis_column:function(e,t,a){return x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},scatter:function(e,t,a){var r=x.getSeriesByType(x.SeriesType.COMMON,e,t,a);return x.yAxisTickAdjust(r),r},bubble:function(e,t,a){return x.getSeriesByType(x.SeriesType.COMMON,e,t,a)},heat_map:function(e,t,a){return x.getSeriesByType(x.SeriesType.HEAT_MAP,e,t,a)},heat_map_time_series:function(e,t,a){return x.getSeriesByType(x.SeriesType.HEAT_MAP_TIME_SERIES,e,t,a)},dual_measure_tree_map:function(e,t,a){return x.getSeriesByType(x.SeriesType.DUAL_MEASURE_TREE_MAP,e,t,a)},tree_map:function(e,t,a){return x.getSeriesByType(x.SeriesType.TREE_MAP,e,t,a)},one_parent_tree_map:function(e,t,a){return x.getSeriesByType(x.SeriesType.ONE_PARENT_TREE_MAP,e,t,a)},gauge:function(e,t,a){return x.getSeriesByType(x.SeriesType.GAUGE,e,t,a)},multi_level_gauge:function(e,t,a){return x.getSeriesByType(x.SeriesType.MULTI_LEVEL_GAUGE,e,t,a)},arc_gauge:function(e,t,a){return x.getSeriesByType(x.SeriesType.ARC_GAUGE,e,t,a)}},adHocToHighchartsChartTypeMap:m,getDualOrMultiAxisHighchartsType:function(e,t){var a,r={column_line:"column",column_spline:"column",stacked_column_line:"column",stacked_column_spline:"column"},i={column_line:"line",column_spline:"spline",stacked_column_line:"line",stacked_column_spline:"spline"},s={multi_axis_line:"line",multi_axis_spline:"spline",multi_axis_column:"column"};if(x.isDualAxisChart(e))a=t?i[e]:r[e];else{if(!x.isMultiAxisChart(e))throw"Unsupported chart type [chartType="+e+"]";a=s[e]}return a},correctEmptySeriesNames:function(e){return i.each(e.series,function(e){""===e.name&&(e.name=" ")}),e}}),a.exports={getHighchartsOptions:x.getHighchartsOptions,isDualOrMultiAxisChart:x.isDualOrMultiAxisChart,isDualAxisChart:x.isDualAxisChart,isMultiAxisChart:x.isMultiAxisChart,isScatterChart:x.isScatterChart,isBubbleChart:x.isBubbleChart,isScatterOrBubbleChart:x.isScatterOrBubbleChart,isBarChart:x.isBarChart,isSpiderChart:x.isSpiderChart,isDualLevelPieChart:x.isDualLevelPieChart,isHeatMapChart:x.isHeatMapChart,isHeatMapTimeSeriesChart:x.isHeatMapTimeSeriesChart,isHeatMapBasedChart:x.isHeatMapBasedChart,isDualMeasureTreeMapChart:x.isDualMeasureTreeMapChart,isTreeMapChart:x.isTreeMapChart,isOneParentTreeMapChart:x.isOneParentTreeMapChart,isGaugeChart:x.isGaugeChart,isMultiLevelGaugeChart:x.isMultiLevelGaugeChart,isArcGaugeChart:x.isArcGaugeChart,isGaugeBasedChart:x.isGaugeBasedChart,_getLegendItemClickHandler:x._getLegendItemClickHandler,_getLegendItemClickHandlerDisabled:x._getLegendItemClickHandlerDisabled,_HDM:x}});