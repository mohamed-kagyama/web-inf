/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","./DashboardComponentModel","../../enum/dashboardComponentTypes","bundle!DashboardBundle","runtime_dependencies/js-sdk/src/common/util/i18nMessage","../../enum/dashboardWiringStandardIds","../../dashboardSettings"],function(e,r,a){var n=e("./DashboardComponentModel"),s=e("../../enum/dashboardComponentTypes"),d=e("bundle!DashboardBundle"),t=e("runtime_dependencies/js-sdk/src/common/util/i18nMessage"),i=e("../../enum/dashboardWiringStandardIds"),o=e("../../dashboardSettings"),_=t.extend({bundle:d});a.exports=n.extend({defaults:{id:o.DASHBOARD_PROPERTIES_COMPONENT_ID,type:s.DASHBOARD_PROPERTIES,name:o.DASHBOARD_PROPERTIES_COMPONENT_ID,autoRefresh:o.DASHBOARD_AUTO_REFRESH,refreshInterval:o.DASHBOARD_REFRESH_INTERVAL_TIME_UNIT_DEFAULT_MINUTES,refreshIntervalUnit:o.DASHBOARD_REFRESH_INTERVAL_UNIT,showDashletBorders:o.DASHLET_BORDER,showExportButton:o.DASHBOARD_SHOW_EXPORT_BUTTON,dashletMargin:o.DASHLET_MARGIN,dashletPadding:o.DASHLET_PADDING,dashletFilterShowPopup:o.DASHLET_FILTER_SHOW_POPUP,useFixedSize:o.USE_FIXED_SIZE,fixedWidth:o.DEFAULT_FIXED_WIDTH,fixedHeight:o.DEFAULT_FIXED_HEIGHT,canvasColor:o.DASHBOARD_CANVAS_COLOR,titleBarColor:o.DASHBOARD_TITLE_BAR_COLOR,titleTextColor:o.DASHBOARD_TITLE_TEXT_COLOR},validation:{refreshInterval:[{required:!0,msg:new _("dashboard.error.refreshInterval.required")},{integerNumber:!0,msg:new _("dashboard.error.refreshInterval.integer")},{fn:function(e,r,a){var n=a.refreshIntervalUnit,s={second:o.DASHBOARD_REFRESH_INTERVAL_TIME_UNIT_SECONDS,minute:o.DASHBOARD_REFRESH_INTERVAL_TIME_UNIT_MINUTES};if(e<s[n])return"Value must be bigger than "+s[n]},msg:new _("dashboard.error.refreshInterval.min",o.DASHBOARD_REFRESH_INTERVAL_TIME_UNIT_MINUTES,o.DASHBOARD_REFRESH_INTERVAL_TIME_UNIT_SECONDS)}],refreshIntervalUnit:[{required:!0,msg:new _("dashboard.error.refreshIntervalUnit.required")},{oneOf:["second","minute"],msg:new _("dashboard.error.refreshIntervalUnit.oneOf")}],dashletMargin:[{required:!0,msg:new _("dashboard.error.dashletMargin.required")},{integerNumber:!0,msg:new _("dashboard.error.dashletMargin.integer")},{range:[o.DASHLET_MIN_MARGIN,o.DASHLET_MAX_MARGIN],msg:new _("dashboard.error.dashletMargin.range",o.DASHLET_MIN_MARGIN,o.DASHLET_MAX_MARGIN)}],dashletPadding:[{required:!0,msg:new _("dashboard.error.dashletMargin.required")},{integerNumber:!0,msg:new _("dashboard.error.dashletPadding.integer")},{range:[o.DASHLET_MIN_PADDING,o.DASHLET_MAX_PADDING],msg:new _("dashboard.error.dashletPadding.range",o.DASHLET_MIN_PADDING,o.DASHLET_MAX_PADDING)}],fixedWidth:[{required:!0,msg:new _("dashboard.error.dashboard.width.required")},{integerNumber:!0,msg:new _("dashboard.error.dashboard.width.integer")},{range:[o.DASHBOARD_MIN_WIDTH,o.DASHBOARD_MAX_WIDTH],msg:new _("dashboard.error.dashboard.width.range",o.DASHBOARD_MIN_WIDTH,o.DASHBOARD_MAX_WIDTH)}],fixedHeight:[{required:!0,msg:new _("dashboard.error.dashboard.height.required")},{integerNumber:!0,msg:new _("dashboard.error.dashboard.height.integer")},{range:[o.DASHBOARD_MIN_HEIGHT,o.DASHBOARD_MAX_HEIGHT],msg:new _("dashboard.error.dashboard.height.range",o.DASHBOARD_MIN_HEIGHT,o.DASHBOARD_MAX_HEIGHT)}]},initialize:function(){n.prototype.initialize.apply(this,arguments),this.on("change:autoRefresh",function(){this.get("autoRefresh")||this.isValid(["refreshInterval","refreshIntervalUnit"])||this.set({refreshInterval:this.defaults.refreshInterval,refreshIntervalUnit:this.defaults.refreshIntervalUnit})},this)},isVisible:function(){return!1},applyParameters:function(e){e||this.collection.pushParametersState(),this.trigger(i.APPLY_SIGNAL,{})},acceptWiringVisitor:function(e){e.register(this,{signals:[i.INIT_SIGNAL,i.APPLY_SIGNAL],slots:{}})}})});