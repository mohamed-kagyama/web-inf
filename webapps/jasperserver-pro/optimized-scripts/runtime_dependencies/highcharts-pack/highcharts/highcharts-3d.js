/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

!function(t,e){"object"==typeof module&&module.exports?module.exports=t(require("highcharts")):"function"==typeof define&&define.amd?define(["highcharts"],t):t(e.Highcharts)}(function(t){return function(t){function e(t,e,i,o){return{x:o.cosB*t-o.sinB*i,y:-o.sinA*o.sinB*t+o.cosA*e-o.cosB*o.sinA*i,z:o.cosA*o.sinB*t+o.sinA*e+o.cosA*o.cosB*i}}var i=t.deg2rad,o=t.pick;t.perspective3D=function(t,e,i){var o=i>0&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*o,y:t.y*o}},t.perspective=function(s,r,a){var n=r.options.chart.options3d,l=!!a&&r.inverted,h={x:r.plotWidth/2,y:r.plotHeight/2,z:n.depth/2,vd:o(n.depth,1)*o(n.viewDistance,0)},c=r.scale3d||1,p=i*n.beta*(l?-1:1),x=i*n.alpha*(l?-1:1),d={cosA:Math.cos(x),cosB:Math.cos(-p),sinA:Math.sin(x),sinB:Math.sin(-p)};return a||(h.x+=r.plotLeft,h.y+=r.plotTop),t.map(s,function(i){var o=e((l?i.y:i.x)-h.x,(l?i.x:i.y)-h.y,(i.z||0)-h.z,d),s=t.perspective3D(o,h,h.vd);return s.x=s.x*c+h.x,s.y=s.y*c+h.y,s.z=o.z*c+h.z,{x:l?s.y:s.x,y:l?s.x:s.y,z:s.z}})},t.pointCameraDistance=function(t,e){var i=e.options.chart.options3d,s={x:e.plotWidth/2,y:e.plotHeight/2,z:o(i.depth,1)*o(i.viewDistance,0)+i.depth};return Math.sqrt(Math.pow(s.x-t.plotX,2)+Math.pow(s.y-t.plotY,2)+Math.pow(s.z-t.plotZ,2))},t.shapeArea=function(t){var e,i,o=0;for(e=0;e<t.length;e++)i=(e+1)%t.length,o+=t[e].x*t[i].y-t[i].x*t[e].y;return o/2},t.shapeArea3d=function(e,i,o){return t.shapeArea(t.perspective(e,i,o))}}(t),function(t){function e(t,i,o,s,r,a,n,l){var h=[],c=a-r;return a>r&&a-r>Math.PI/2+1e-4?(h=h.concat(e(t,i,o,s,r,r+Math.PI/2,n,l)),h=h.concat(e(t,i,o,s,r+Math.PI/2,a,n,l))):a<r&&r-a>Math.PI/2+1e-4?(h=h.concat(e(t,i,o,s,r,r-Math.PI/2,n,l)),h=h.concat(e(t,i,o,s,r-Math.PI/2,a,n,l))):["C",t+o*Math.cos(r)-o*g*c*Math.sin(r)+n,i+s*Math.sin(r)+s*g*c*Math.cos(r)+l,t+o*Math.cos(a)+o*g*c*Math.sin(a)+n,i+s*Math.sin(a)-s*g*c*Math.cos(a)+l,t+o*Math.cos(a)+n,i+s*Math.sin(a)+l]}var i=Math.cos,o=Math.PI,s=Math.sin,r=t.animObject,a=t.charts,n=t.color,l=t.defined,h=t.deg2rad,c=t.each,p=t.extend,x=t.inArray,d=t.map,y=t.merge,f=t.perspective,u=t.pick,z=t.SVGElement,b=t.SVGRenderer,v=t.wrap,g=4*(Math.sqrt(2)-1)/3/(o/2);b.prototype.toLinePath=function(t,e){var i=[];return c(t,function(t){i.push("L",t.x,t.y)}),t.length&&(i[0]="M",e&&i.push("Z")),i},b.prototype.toLineSegments=function(t){var e=[],i=!0;return c(t,function(t){e.push(i?"M":"L",t.x,t.y),i=!i}),e},b.prototype.face3d=function(e){var i=this,o=this.createElement("path");return o.vertexes=[],o.insidePlotArea=!1,o.enabled=!0,v(o,"attr",function(e,o){if("object"==typeof o&&(l(o.enabled)||l(o.vertexes)||l(o.insidePlotArea))){this.enabled=u(o.enabled,this.enabled),this.vertexes=u(o.vertexes,this.vertexes),this.insidePlotArea=u(o.insidePlotArea,this.insidePlotArea),delete o.enabled,delete o.vertexes,delete o.insidePlotArea;var s=a[i.chartIndex],r=f(this.vertexes,s,this.insidePlotArea),n=i.toLinePath(r,!0),h=t.shapeArea(r),c=this.enabled&&h>0?"visible":"hidden";o.d=n,o.visibility=c}return e.apply(this,[].slice.call(arguments,1))}),v(o,"animate",function(e,o){if("object"==typeof o&&(l(o.enabled)||l(o.vertexes)||l(o.insidePlotArea))){this.enabled=u(o.enabled,this.enabled),this.vertexes=u(o.vertexes,this.vertexes),this.insidePlotArea=u(o.insidePlotArea,this.insidePlotArea),delete o.enabled,delete o.vertexes,delete o.insidePlotArea;var s=a[i.chartIndex],r=f(this.vertexes,s,this.insidePlotArea),n=i.toLinePath(r,!0),h=t.shapeArea(r),c=this.enabled&&h>0?"visible":"hidden";o.d=n,this.attr("visibility",c)}return e.apply(this,[].slice.call(arguments,1))}),o.attr(e)},b.prototype.polyhedron=function(t){var e=this,i=this.g(),o=i.destroy;return i.attr({"stroke-linejoin":"round"}),i.faces=[],i.destroy=function(){for(var t=0;t<i.faces.length;t++)i.faces[t].destroy();return o.call(this)},v(i,"attr",function(t,o,s,r,a){if("object"==typeof o&&l(o.faces)){for(;i.faces.length>o.faces.length;)i.faces.pop().destroy();for(;i.faces.length<o.faces.length;)i.faces.push(e.face3d().add(i));for(var n=0;n<o.faces.length;n++)i.faces[n].attr(o.faces[n],null,r,a);delete o.faces}return t.apply(this,[].slice.call(arguments,1))}),v(i,"animate",function(t,o,s,r){if(o&&o.faces){for(;i.faces.length>o.faces.length;)i.faces.pop().destroy();for(;i.faces.length<o.faces.length;)i.faces.push(e.face3d().add(i));for(var a=0;a<o.faces.length;a++)i.faces[a].animate(o.faces[a],s,r);delete o.faces}return t.apply(this,[].slice.call(arguments,1))}),i.attr(t)},b.prototype.cuboid=function(t){var e=this.g(),i=e.destroy,o=this.cuboidPath(t);return e.attr({"stroke-linejoin":"round"}),e.front=this.path(o[0]).attr({class:"highcharts-3d-front"}).add(e),e.top=this.path(o[1]).attr({class:"highcharts-3d-top"}).add(e),e.side=this.path(o[2]).attr({class:"highcharts-3d-side"}).add(e),e.fillSetter=function(t){return this.front.attr({fill:t}),this.top.attr({fill:n(t).brighten(.1).get()}),this.side.attr({fill:n(t).brighten(-.1).get()}),this.color=t,e.fill=t,this},e.opacitySetter=function(t){return this.front.attr({opacity:t}),this.top.attr({opacity:t}),this.side.attr({opacity:t}),this},e.attr=function(t,e,i,o){if("string"==typeof t&&void 0!==e){var s=t;t={},t[s]=e}if(!t.shapeArgs&&!l(t.x))return z.prototype.attr.call(this,t,void 0,i,o);var r=t.shapeArgs||t,a=this.renderer.cuboidPath(r);return this.front.attr({d:a[0]}),this.top.attr({d:a[1]}),this.side.attr({d:a[2]}),this},e.animate=function(t,e,i){if(l(t.x)&&l(t.y)){var o=this.renderer.cuboidPath(t);this.front.animate({d:o[0]},e,i),this.top.animate({d:o[1]},e,i),this.side.animate({d:o[2]},e,i),this.attr({zIndex:-o[3]})}else t.opacity?(this.front.animate(t,e,i),this.top.animate(t,e,i),this.side.animate(t,e,i)):z.prototype.animate.call(this,t,e,i);return this},e.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),i.call(this)},e.attr({zIndex:-o[3]}),e},t.SVGRenderer.prototype.cuboidPath=function(e){function i(t){return w[t]}var o,s,r,n,l,h,c,p,x,y,u,z,b,v=e.x,g=e.y,m=e.z,M=e.height,A=e.width,P=e.depth,k=a[this.chartIndex],S=k.options.chart.options3d,L=S.alpha,I=0,w=[{x:v,y:g,z:m},{x:v+A,y:g,z:m},{x:v+A,y:g+M,z:m},{x:v,y:g+M,z:m},{x:v,y:g+M,z:m+P},{x:v+A,y:g+M,z:m+P},{x:v+A,y:g,z:m+P},{x:v,y:g,z:m+P}];w=f(w,k,e.insidePlotArea);var D=function(e,o){var s=[[],-1];return e=d(e,i),o=d(o,i),t.shapeArea(e)<0?s=[e,0]:t.shapeArea(o)<0&&(s=[o,1]),s};return o=[3,2,1,0],s=[7,6,5,4],c=D(o,s),p=c[0],u=c[1],r=[1,6,7,0],n=[4,5,2,3],c=D(r,n),x=c[0],z=c[1],h=[1,2,5,6],l=[0,7,4,3],c=D(h,l),y=c[0],b=c[1],1===b?I+=1e4*(1e3-v):b||(I+=1e4*v),I+=10*(!z||L>=0&&L<=180||L<360&&L>357.5?k.plotHeight-g:10+g),1===u?I+=100*m:u||(I+=100*(1e3-m)),I=-Math.round(I),[this.toLinePath(p,!0),this.toLinePath(x,!0),this.toLinePath(y,!0),I]},t.SVGRenderer.prototype.arc3d=function(t){function e(t){var e=!1,i={};t=y(t);for(var o in t)-1!==x(o,s)&&(i[o]=t[o],delete t[o],e=!0);return!!e&&i}var i=this.g(),o=i.renderer,s=["x","y","r","innerR","start","end"];return t=y(t),t.alpha*=h,t.beta*=h,i.top=o.path(),i.side1=o.path(),i.side2=o.path(),i.inn=o.path(),i.out=o.path(),i.onAdd=function(){var t=i.parentGroup,e=i.attr("class");i.top.add(i),c(["out","inn","side1","side2"],function(o){i[o].attr({class:e+" highcharts-3d-side"}).add(t)})},c(["addClass","removeClass"],function(t){i[t]=function(){var e=arguments;c(["top","out","inn","side1","side2"],function(o){i[o][t].apply(i[o],e)})}}),i.setPaths=function(t){var e=i.renderer.arc3dPath(t),o=100*e.zTop;i.attribs=t,i.top.attr({d:e.top,zIndex:e.zTop}),i.inn.attr({d:e.inn,zIndex:e.zInn}),i.out.attr({d:e.out,zIndex:e.zOut}),i.side1.attr({d:e.side1,zIndex:e.zSide1}),i.side2.attr({d:e.side2,zIndex:e.zSide2}),i.zIndex=o,i.attr({zIndex:o}),t.center&&(i.top.setRadialReference(t.center),delete t.center)},i.setPaths(t),i.fillSetter=function(t){var e=n(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},c(["opacity","translateX","translateY","visibility"],function(t){i[t+"Setter"]=function(t,e){i[e]=t,c(["out","inn","side1","side2","top"],function(o){i[o].attr(e,t)})}}),v(i,"attr",function(t,o){var s;return"object"==typeof o&&(s=e(o))&&(p(i.attribs,s),i.setPaths(i.attribs)),t.apply(this,[].slice.call(arguments,1))}),v(i,"animate",function(t,o,s,a){var n,l,h,c=this.attribs;return delete o.center,delete o.z,delete o.depth,delete o.alpha,delete o.beta,h=r(u(s,this.renderer.globalAnimation)),h.duration&&(n=e(o),o.dummy=i.dummy++,n&&(l=n,h.step=function(t,e){function i(t){return c[t]+(u(l[t],c[t])-c[t])*e.pos}"dummy"===e.prop&&e.elem.setPaths(y(c,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end")}))}),s=h),t.call(this,o,s,a)}),i.dummy=0,i.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),z.prototype.destroy.call(this)},i.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},i.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},i},b.prototype.arc3dPath=function(t){function r(t){return t%=2*Math.PI,t>Math.PI&&(t=2*Math.PI-t),t}var a=t.x,n=t.y,l=t.start,h=t.end-1e-5,c=t.r,p=t.innerR,x=t.depth,d=t.alpha,y=t.beta,f=Math.cos(l),u=Math.sin(l),z=Math.cos(h),b=Math.sin(h),v=c*Math.cos(y),g=c*Math.cos(d),m=p*Math.cos(y),M=p*Math.cos(d),A=x*Math.sin(y),P=x*Math.sin(d),k=["M",a+v*f,n+g*u];k=k.concat(e(a,n,v,g,l,h,0,0)),k=k.concat(["L",a+m*z,n+M*b]),k=k.concat(e(a,n,m,M,h,l,0,0)),k=k.concat(["Z"]);var S=y>0?Math.PI/2:0,L=d>0?0:Math.PI/2,I=l>-S?l:h>-S?-S:l,w=h<o-L?h:l<o-L?o-L:h,D=2*o-L,F=["M",a+v*i(I),n+g*s(I)];F=F.concat(e(a,n,v,g,I,w,0,0)),h>D&&l<D?(F=F.concat(["L",a+v*i(w)+A,n+g*s(w)+P]),F=F.concat(e(a,n,v,g,w,D,A,P)),F=F.concat(["L",a+v*i(D),n+g*s(D)]),F=F.concat(e(a,n,v,g,D,h,0,0)),F=F.concat(["L",a+v*i(h)+A,n+g*s(h)+P]),F=F.concat(e(a,n,v,g,h,D,A,P)),F=F.concat(["L",a+v*i(D),n+g*s(D)]),F=F.concat(e(a,n,v,g,D,w,0,0))):h>o-L&&l<o-L&&(F=F.concat(["L",a+v*Math.cos(w)+A,n+g*Math.sin(w)+P]),F=F.concat(e(a,n,v,g,w,h,A,P)),F=F.concat(["L",a+v*Math.cos(h),n+g*Math.sin(h)]),F=F.concat(e(a,n,v,g,h,w,0,0))),F=F.concat(["L",a+v*Math.cos(w)+A,n+g*Math.sin(w)+P]),F=F.concat(e(a,n,v,g,w,I,A,P)),F=F.concat(["Z"]);var Y=["M",a+m*f,n+M*u];Y=Y.concat(e(a,n,m,M,l,h,0,0)),Y=Y.concat(["L",a+m*Math.cos(h)+A,n+M*Math.sin(h)+P]),Y=Y.concat(e(a,n,m,M,h,l,A,P)),Y=Y.concat(["Z"]);var X=["M",a+v*f,n+g*u,"L",a+v*f+A,n+g*u+P,"L",a+m*f+A,n+M*u+P,"L",a+m*f,n+M*u,"Z"],Z=["M",a+v*z,n+g*b,"L",a+v*z+A,n+g*b+P,"L",a+m*z+A,n+M*b+P,"L",a+m*z,n+M*b,"Z"],T=Math.atan2(P,-A),G=Math.abs(h+T),W=Math.abs(l+T),B=Math.abs((l+h)/2+T);G=r(G),W=r(W),B=r(B);var V=1e5*B,R=1e5*W,C=1e5*G;return{top:k,zTop:1e5*Math.PI+1,out:F,zOut:Math.max(V,R,C),inn:Y,zInn:Math.max(V,R,C),side1:X,zSide1:.99*C,side2:Z,zSide2:.99*R}}}(t),function(t){function e(t,e){var i,o=t.plotLeft,r=t.plotWidth+o,n=t.plotTop,l=t.plotHeight+n,h=o+t.plotWidth/2,c=n+t.plotHeight/2,p={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},x=1;return i=[{x:o,y:n,z:0},{x:o,y:n,z:e}],s([0,1],function(t){i.push({x:r,y:i[t].y,z:i[t].z})}),s([0,1,2,3],function(t){i.push({x:i[t].x,y:l,z:i[t].z})}),i=a(i,t,!1),s(i,function(t){p.minX=Math.min(p.minX,t.x),p.maxX=Math.max(p.maxX,t.x),p.minY=Math.min(p.minY,t.y),p.maxY=Math.max(p.maxY,t.y)}),o>p.minX&&(x=Math.min(x,1-Math.abs((o+h)/(p.minX+h))%1)),r<p.maxX&&(x=Math.min(x,(r-h)/(p.maxX-h))),n>p.minY&&(x=p.minY<0?Math.min(x,(n+c)/(-p.minY+n+c)):Math.min(x,1-(n+c)/(p.minY+c)%1)),l<p.maxY&&(x=Math.min(x,Math.abs((l-c)/(p.maxY-c)))),x}var i=t.addEvent,o=t.Chart,s=t.each,r=t.merge,a=t.perspective,n=t.pick,l=t.wrap;o.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},o.prototype.propsRequireDirtyBox.push("chart.options3d"),o.prototype.propsRequireUpdateSeries.push("chart.options3d"),i(o,"afterInit",function(){var t=this.options;this.is3d()&&s(t.series,function(e){"scatter"===(e.type||t.chart.type||t.chart.defaultSeriesType)&&(e.type="scatter3d")})}),i(o,"addSeries",function(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}),t.wrap(t.Chart.prototype,"isInsidePlot",function(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}),r(!0,t.getOptions(),{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}}),l(o.prototype,"setClassName",function(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}),i(t.Chart,"afterSetChartSize",function(){var t=this,i=t.options.chart.options3d;if(t.is3d()){var o=t.inverted,s=t.clipBox,r=t.margin,a=o?"y":"x",n=o?"x":"y",l=o?"height":"width",h=o?"width":"height";s[a]=-(r[3]||0),s[n]=-(r[0]||0),s[l]=t.chartWidth+(r[3]||0)+(r[1]||0),s[h]=t.chartHeight+(r[0]||0)+(r[2]||0),t.scale3d=1,!0===i.fitToPlot&&(t.scale3d=e(t,i.depth)),t.frame3d=this.get3dFrame()}}),i(o,"beforeRedraw",function(){this.is3d()&&(this.isDirtyBox=!0)}),i(o,"beforeRender",function(){this.is3d()&&(this.frame3d=this.get3dFrame())}),l(o.prototype,"renderSeries",function(t){var e,i=this.series.length;if(this.is3d())for(;i--;)e=this.series[i],e.translate(),e.render();else t.call(this)}),i(o,"afterDrawChartBox",function(){if(this.is3d()){var e=this,i=e.renderer,o=this.options.chart.options3d,s=e.get3dFrame(),r=this.plotLeft,a=this.plotLeft+this.plotWidth,n=this.plotTop,l=this.plotTop+this.plotHeight,h=o.depth,c=r-(s.left.visible?s.left.size:0),p=a+(s.right.visible?s.right.size:0),x=n-(s.top.visible?s.top.size:0),d=l+(s.bottom.visible?s.bottom.size:0),y=0-(s.front.visible?s.front.size:0),f=h+(s.back.visible?s.back.size:0),u=e.hasRendered?"animate":"attr";this.frame3d=s,this.frameShapes||(this.frameShapes={bottom:i.polyhedron().add(),top:i.polyhedron().add(),left:i.polyhedron().add(),right:i.polyhedron().add(),back:i.polyhedron().add(),front:i.polyhedron().add()}),this.frameShapes.bottom[u]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:s.bottom.frontFacing?-1e3:1e3,faces:[{fill:t.color(s.bottom.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:y},{x:p,y:d,z:y},{x:p,y:d,z:f},{x:c,y:d,z:f}],enabled:s.bottom.visible},{fill:t.color(s.bottom.color).brighten(.1).get(),vertexes:[{x:r,y:l,z:h},{x:a,y:l,z:h},{x:a,y:l,z:0},{x:r,y:l,z:0}],enabled:s.bottom.visible},{fill:t.color(s.bottom.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:y},{x:c,y:d,z:f},{x:r,y:l,z:h},{x:r,y:l,z:0}],enabled:s.bottom.visible&&!s.left.visible},{fill:t.color(s.bottom.color).brighten(-.1).get(),vertexes:[{x:p,y:d,z:f},{x:p,y:d,z:y},{x:a,y:l,z:0},{x:a,y:l,z:h}],enabled:s.bottom.visible&&!s.right.visible},{fill:t.color(s.bottom.color).get(),vertexes:[{x:p,y:d,z:y},{x:c,y:d,z:y},{x:r,y:l,z:0},{x:a,y:l,z:0}],enabled:s.bottom.visible&&!s.front.visible},{fill:t.color(s.bottom.color).get(),vertexes:[{x:c,y:d,z:f},{x:p,y:d,z:f},{x:a,y:l,z:h},{x:r,y:l,z:h}],enabled:s.bottom.visible&&!s.back.visible}]}),this.frameShapes.top[u]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:s.top.frontFacing?-1e3:1e3,faces:[{fill:t.color(s.top.color).brighten(.1).get(),vertexes:[{x:c,y:x,z:f},{x:p,y:x,z:f},{x:p,y:x,z:y},{x:c,y:x,z:y}],enabled:s.top.visible},{fill:t.color(s.top.color).brighten(.1).get(),vertexes:[{x:r,y:n,z:0},{x:a,y:n,z:0},{x:a,y:n,z:h},{x:r,y:n,z:h}],enabled:s.top.visible},{fill:t.color(s.top.color).brighten(-.1).get(),vertexes:[{x:c,y:x,z:f},{x:c,y:x,z:y},{x:r,y:n,z:0},{x:r,y:n,z:h}],enabled:s.top.visible&&!s.left.visible},{fill:t.color(s.top.color).brighten(-.1).get(),vertexes:[{x:p,y:x,z:y},{x:p,y:x,z:f},{x:a,y:n,z:h},{x:a,y:n,z:0}],enabled:s.top.visible&&!s.right.visible},{fill:t.color(s.top.color).get(),vertexes:[{x:c,y:x,z:y},{x:p,y:x,z:y},{x:a,y:n,z:0},{x:r,y:n,z:0}],enabled:s.top.visible&&!s.front.visible},{fill:t.color(s.top.color).get(),vertexes:[{x:p,y:x,z:f},{x:c,y:x,z:f},{x:r,y:n,z:h},{x:a,y:n,z:h}],enabled:s.top.visible&&!s.back.visible}]}),this.frameShapes.left[u]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:s.left.frontFacing?-1e3:1e3,faces:[{fill:t.color(s.left.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:y},{x:r,y:l,z:0},{x:r,y:l,z:h},{x:c,y:d,z:f}],enabled:s.left.visible&&!s.bottom.visible},{fill:t.color(s.left.color).brighten(.1).get(),vertexes:[{x:c,y:x,z:f},{x:r,y:n,z:h},{x:r,y:n,z:0},{x:c,y:x,z:y}],enabled:s.left.visible&&!s.top.visible},{fill:t.color(s.left.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:f},{x:c,y:x,z:f},{x:c,y:x,z:y},{x:c,y:d,z:y}],enabled:s.left.visible},{fill:t.color(s.left.color).brighten(-.1).get(),vertexes:[{x:r,y:n,z:h},{x:r,y:l,z:h},{x:r,y:l,z:0},{x:r,y:n,z:0}],enabled:s.left.visible},{fill:t.color(s.left.color).get(),vertexes:[{x:c,y:d,z:y},{x:c,y:x,z:y},{x:r,y:n,z:0},{x:r,y:l,z:0}],enabled:s.left.visible&&!s.front.visible},{fill:t.color(s.left.color).get(),vertexes:[{x:c,y:x,z:f},{x:c,y:d,z:f},{x:r,y:l,z:h},{x:r,y:n,z:h}],enabled:s.left.visible&&!s.back.visible}]}),this.frameShapes.right[u]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:s.right.frontFacing?-1e3:1e3,faces:[{fill:t.color(s.right.color).brighten(.1).get(),vertexes:[{x:p,y:d,z:f},{x:a,y:l,z:h},{x:a,y:l,z:0},{x:p,y:d,z:y}],enabled:s.right.visible&&!s.bottom.visible},{fill:t.color(s.right.color).brighten(.1).get(),vertexes:[{x:p,y:x,z:y},{x:a,y:n,z:0},{x:a,y:n,z:h},{x:p,y:x,z:f}],enabled:s.right.visible&&!s.top.visible},{fill:t.color(s.right.color).brighten(-.1).get(),vertexes:[{x:a,y:n,z:0},{x:a,y:l,z:0},{x:a,y:l,z:h},{x:a,y:n,z:h}],enabled:s.right.visible},{fill:t.color(s.right.color).brighten(-.1).get(),vertexes:[{x:p,y:d,z:y},{x:p,y:x,z:y},{x:p,y:x,z:f},{x:p,y:d,z:f}],enabled:s.right.visible},{fill:t.color(s.right.color).get(),vertexes:[{x:p,y:x,z:y},{x:p,y:d,z:y},{x:a,y:l,z:0},{x:a,y:n,z:0}],enabled:s.right.visible&&!s.front.visible},{fill:t.color(s.right.color).get(),vertexes:[{x:p,y:d,z:f},{x:p,y:x,z:f},{x:a,y:n,z:h},{x:a,y:l,z:h}],enabled:s.right.visible&&!s.back.visible}]}),this.frameShapes.back[u]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:s.back.frontFacing?-1e3:1e3,faces:[{fill:t.color(s.back.color).brighten(.1).get(),vertexes:[{x:p,y:d,z:f},{x:c,y:d,z:f},{x:r,y:l,z:h},{x:a,y:l,z:h}],enabled:s.back.visible&&!s.bottom.visible},{fill:t.color(s.back.color).brighten(.1).get(),vertexes:[{x:c,y:x,z:f},{x:p,y:x,z:f},{x:a,y:n,z:h},{x:r,y:n,z:h}],enabled:s.back.visible&&!s.top.visible},{fill:t.color(s.back.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:f},{x:c,y:x,z:f},{x:r,y:n,z:h},{x:r,y:l,z:h}],enabled:s.back.visible&&!s.left.visible},{fill:t.color(s.back.color).brighten(-.1).get(),vertexes:[{x:p,y:x,z:f},{x:p,y:d,z:f},{x:a,y:l,z:h},{x:a,y:n,z:h}],enabled:s.back.visible&&!s.right.visible},{fill:t.color(s.back.color).get(),vertexes:[{x:r,y:n,z:h},{x:a,y:n,z:h},{x:a,y:l,z:h},{x:r,y:l,z:h}],enabled:s.back.visible},{fill:t.color(s.back.color).get(),vertexes:[{x:c,y:d,z:f},{x:p,y:d,z:f},{x:p,y:x,z:f},{x:c,y:x,z:f}],enabled:s.back.visible}]}),this.frameShapes.front[u]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:s.front.frontFacing?-1e3:1e3,faces:[{fill:t.color(s.front.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:y},{x:p,y:d,z:y},{x:a,y:l,z:0},{x:r,y:l,z:0}],enabled:s.front.visible&&!s.bottom.visible},{fill:t.color(s.front.color).brighten(.1).get(),vertexes:[{x:p,y:x,z:y},{x:c,y:x,z:y},{x:r,y:n,z:0},{x:a,y:n,z:0}],enabled:s.front.visible&&!s.top.visible},{fill:t.color(s.front.color).brighten(-.1).get(),vertexes:[{x:c,y:x,z:y},{x:c,y:d,z:y},{x:r,y:l,z:0},{x:r,y:n,z:0}],enabled:s.front.visible&&!s.left.visible},{fill:t.color(s.front.color).brighten(-.1).get(),vertexes:[{x:p,y:d,z:y},{x:p,y:x,z:y},{x:a,y:n,z:0},{x:a,y:l,z:0}],enabled:s.front.visible&&!s.right.visible},{fill:t.color(s.front.color).get(),vertexes:[{x:a,y:n,z:0},{x:r,y:n,z:0},{x:r,y:l,z:0},{x:a,y:l,z:0}],enabled:s.front.visible},{fill:t.color(s.front.color).get(),vertexes:[{x:p,y:d,z:y},{x:c,y:d,z:y},{x:c,y:x,z:y},{x:p,y:x,z:y}],enabled:s.front.visible}]})}}),o.prototype.retrieveStacks=function(t){var e,i=this.series,o={},r=1;return s(this.series,function(s){e=n(s.options.stack,t?0:i.length-1-s.index),o[e]?o[e].series.push(s):(o[e]={series:[s],position:r},r++)}),o.totalStacks=r+1,o},o.prototype.get3dFrame=function(){var e=this,i=e.options.chart.options3d,o=i.frame,r=e.plotLeft,l=e.plotLeft+e.plotWidth,h=e.plotTop,c=e.plotTop+e.plotHeight,p=i.depth,x=function(i){var o=t.shapeArea3d(i,e);return o>.5?1:o<-.5?-1:0},d=x([{x:r,y:c,z:p},{x:l,y:c,z:p},{x:l,y:c,z:0},{x:r,y:c,z:0}]),y=x([{x:r,y:h,z:0},{x:l,y:h,z:0},{x:l,y:h,z:p},{x:r,y:h,z:p}]),f=x([{x:r,y:h,z:0},{x:r,y:h,z:p},{x:r,y:c,z:p},{x:r,y:c,z:0}]),u=x([{x:l,y:h,z:p},{x:l,y:h,z:0},{x:l,y:c,z:0},{x:l,y:c,z:p}]),z=x([{x:r,y:c,z:0},{x:l,y:c,z:0},{x:l,y:h,z:0},{x:r,y:h,z:0}]),b=x([{x:r,y:h,z:p},{x:l,y:h,z:p},{x:l,y:c,z:p},{x:r,y:c,z:p}]),v=!1,g=!1,m=!1,M=!1;s([].concat(e.xAxis,e.yAxis,e.zAxis),function(t){t&&(t.horiz?t.opposite?g=!0:v=!0:t.opposite?M=!0:m=!0)});var A=function(t,e,i){for(var o=["size","color","visible"],s={},r=0;r<o.length;r++)for(var a=o[r],l=0;l<t.length;l++)if("object"==typeof t[l]){var h=t[l][a];if(void 0!==h&&null!==h){s[a]=h;break}}var c=i;return!0===s.visible||!1===s.visible?c=s.visible:"auto"===s.visible&&(c=e>0),{size:n(s.size,1),color:n(s.color,"none"),frontFacing:e>0,visible:c}},P={bottom:A([o.bottom,o.top,o],d,v),top:A([o.top,o.bottom,o],y,g),left:A([o.left,o.right,o.side,o],f,m),right:A([o.right,o.left,o.side,o],u,M),back:A([o.back,o.front,o],b,!0),front:A([o.front,o.back,o],z,!1)};if("auto"===i.axisLabelPosition){var k=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing},S=[];k(P.left,P.front)&&S.push({y:(h+c)/2,x:r,z:0,xDir:{x:1,y:0,z:0}}),k(P.left,P.back)&&S.push({y:(h+c)/2,x:r,z:p,xDir:{x:0,y:0,z:-1}}),k(P.right,P.front)&&S.push({y:(h+c)/2,x:l,z:0,xDir:{x:0,y:0,z:1}}),k(P.right,P.back)&&S.push({y:(h+c)/2,x:l,z:p,xDir:{x:-1,y:0,z:0}});var L=[];k(P.bottom,P.front)&&L.push({x:(r+l)/2,y:c,z:0,xDir:{x:1,y:0,z:0}}),k(P.bottom,P.back)&&L.push({x:(r+l)/2,y:c,z:p,xDir:{x:-1,y:0,z:0}});var I=[];k(P.top,P.front)&&I.push({x:(r+l)/2,y:h,z:0,xDir:{x:1,y:0,z:0}}),k(P.top,P.back)&&I.push({x:(r+l)/2,y:h,z:p,xDir:{x:-1,y:0,z:0}});var w=[];k(P.bottom,P.left)&&w.push({z:(0+p)/2,y:c,x:r,xDir:{x:0,y:0,z:-1}}),k(P.bottom,P.right)&&w.push({z:(0+p)/2,y:c,x:l,xDir:{x:0,y:0,z:1}});var D=[];k(P.top,P.left)&&D.push({z:(0+p)/2,y:h,x:r,xDir:{x:0,y:0,z:-1}}),k(P.top,P.right)&&D.push({z:(0+p)/2,y:h,x:l,xDir:{x:0,y:0,z:1}});var F=function(t,i,o){if(0===t.length)return null;if(1===t.length)return t[0];for(var s=0,r=a(t,e,!1),n=1;n<r.length;n++)o*r[n][i]>o*r[s][i]?s=n:o*r[n][i]==o*r[s][i]&&r[n].z<r[s].z&&(s=n);return t[s]};P.axes={y:{left:F(S,"x",-1),right:F(S,"x",1)},x:{top:F(I,"y",-1),bottom:F(L,"y",1)},z:{top:F(D,"y",-1),bottom:F(w,"y",1)}}}else P.axes={y:{left:{x:r,z:0,xDir:{x:1,y:0,z:0}},right:{x:l,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:h,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:c,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:m?l:r,y:h,xDir:m?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:m?l:r,y:c,xDir:m?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return P},t.Fx.prototype.matrixSetter=function(){var e;if(this.pos<1&&(t.isArray(this.start)||t.isArray(this.end))){var i=this.start||[1,0,0,1,0,0],o=this.end||[1,0,0,1,0,0];e=[];for(var s=0;s<6;s++)e.push(this.pos*o[s]+(1-this.pos)*i[s])}else e=this.end;this.elem.attr(this.prop,e,null,!0)}}(t),function(t){function e(t,e,i){if(!t.chart.is3d()||"colorAxis"===t.coll)return e;var o,s=t.chart,r=a*s.options.chart.options3d.alpha,n=a*s.options.chart.options3d.beta,l=x(i&&t.options.title.position3d,t.options.labels.position3d),h=x(i&&t.options.title.skew3d,t.options.labels.skew3d),p=s.frame3d,y=s.plotLeft,f=s.plotWidth+y,u=s.plotTop,z=s.plotHeight+u,b=!1,v=0,g=0,m={x:0,y:1,z:0};if(e=t.swapZ({x:e.x,y:e.y,z:0}),t.isZAxis)if(t.opposite){if(null===p.axes.z.top)return{};g=e.y-u,e.x=p.axes.z.top.x,e.y=p.axes.z.top.y,o=p.axes.z.top.xDir,b=!p.top.frontFacing}else{if(null===p.axes.z.bottom)return{};g=e.y-z,e.x=p.axes.z.bottom.x,e.y=p.axes.z.bottom.y,o=p.axes.z.bottom.xDir,b=!p.bottom.frontFacing}else if(t.horiz)if(t.opposite){if(null===p.axes.x.top)return{};g=e.y-u,e.y=p.axes.x.top.y,e.z=p.axes.x.top.z,o=p.axes.x.top.xDir,b=!p.top.frontFacing}else{if(null===p.axes.x.bottom)return{};g=e.y-z,e.y=p.axes.x.bottom.y,e.z=p.axes.x.bottom.z,o=p.axes.x.bottom.xDir,b=!p.bottom.frontFacing}else if(t.opposite){if(null===p.axes.y.right)return{};v=e.x-f,e.x=p.axes.y.right.x,e.z=p.axes.y.right.z,o=p.axes.y.right.xDir,o={x:o.z,y:o.y,z:-o.x}}else{if(null===p.axes.y.left)return{};v=e.x-y,e.x=p.axes.y.left.x,e.z=p.axes.y.left.z,o=p.axes.y.left.xDir}if("chart"===l);else if("flap"===l)if(t.horiz){var M=Math.sin(r),A=Math.cos(r);t.opposite&&(M=-M),b&&(M=-M),m={x:o.z*M,y:A,z:-o.x*M}}else o={x:Math.cos(n),y:0,z:Math.sin(n)};else if("ortho"===l)if(t.horiz){var P=Math.sin(r),k=Math.cos(r),S=Math.sin(n),L=Math.cos(n),I={x:S*k,y:-P,z:-k*L};m={x:o.y*I.z-o.z*I.y,y:o.z*I.x-o.x*I.z,z:o.x*I.y-o.y*I.x};var w=1/Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z);b&&(w=-w),m={x:w*m.x,y:w*m.y,z:w*m.z}}else o={x:Math.cos(n),y:0,z:Math.sin(n)};else t.horiz?m={x:Math.sin(n)*Math.sin(r),y:Math.cos(r),z:-Math.cos(n)*Math.sin(r)}:o={x:Math.cos(n),y:0,z:Math.sin(n)};e.x+=v*o.x+g*m.x,e.y+=v*o.y+g*m.y,e.z+=v*o.z+g*m.z;var D=c([e],t.chart)[0];if(h){d(c([e,{x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},{x:e.x+m.x,y:e.y+m.y,z:e.z+m.z}],t.chart))<0&&(o={x:-o.x,y:-o.y,z:-o.z});var F=c([{x:e.x,y:e.y,z:e.z},{x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},{x:e.x+m.x,y:e.y+m.y,z:e.z+m.z}],t.chart);D.matrix=[F[1].x-F[0].x,F[1].y-F[0].y,F[2].x-F[0].x,F[2].y-F[0].y,D.x,D.y],D.matrix[4]-=D.x*D.matrix[0]+D.y*D.matrix[2],D.matrix[5]-=D.x*D.matrix[1]+D.y*D.matrix[3]}return D}var i,o=t.addEvent,s=t.Axis,r=t.Chart,a=t.deg2rad,n=t.each,l=t.extend,h=t.merge,c=t.perspective,p=t.perspective3D,x=t.pick,d=t.shapeArea,y=t.splat,f=t.Tick,u=t.wrap,z={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}};h(!0,s.prototype.defaultOptions,z),o(s,"afterSetOptions",function(){var t;this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll&&(t=this.options,t.tickWidth=x(t.tickWidth,0),t.gridLineWidth=x(t.gridLineWidth,1))}),u(s.prototype,"getPlotLinePath",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll)return e;if(null===e)return e;var i=this.chart,o=i.options.chart.options3d,s=this.isZAxis?i.plotWidth:o.depth,r=i.frame3d,a=[this.swapZ({x:e[1],y:e[2],z:0}),this.swapZ({x:e[1],y:e[2],z:s}),this.swapZ({x:e[4],y:e[5],z:0}),this.swapZ({x:e[4],y:e[5],z:s})],n=[];return this.horiz?this.isZAxis?(r.left.visible&&n.push(a[0],a[2]),r.right.visible&&n.push(a[1],a[3]),r.top.visible&&n.push(a[0],a[1]),r.bottom.visible&&n.push(a[2],a[3])):(r.front.visible&&n.push(a[0],a[2]),r.back.visible&&n.push(a[1],a[3]),r.top.visible&&n.push(a[0],a[1]),r.bottom.visible&&n.push(a[2],a[3])):(r.front.visible&&n.push(a[0],a[2]),r.back.visible&&n.push(a[1],a[3]),r.left.visible&&n.push(a[0],a[1]),r.right.visible&&n.push(a[2],a[3])),n=c(n,this.chart,!1),this.chart.renderer.toLineSegments(n)}),u(s.prototype,"getLinePath",function(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}),u(s.prototype,"getPlotBandPath",function(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var e=arguments,i=e[1],o=e[2],s=[],r=this.getPlotLinePath(i),a=this.getPlotLinePath(o);if(r&&a)for(var n=0;n<r.length;n+=6)s.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],"L",a[n+4],a[n+5],"L",a[n+1],a[n+2],"Z");return s}),u(f.prototype,"getMarkPath",function(t){var i=t.apply(this,[].slice.call(arguments,1)),o=[e(this.axis,{x:i[1],y:i[2],z:0}),e(this.axis,{x:i[4],y:i[5],z:0})];return this.axis.chart.renderer.toLineSegments(o)}),o(f,"afterGetLabelPosition",function(t){l(t.pos,e(this.axis,t.pos))}),u(s.prototype,"getTitlePosition",function(t){return e(this,t.apply(this,[].slice.call(arguments,1)),!0)}),o(s,"drawCrosshair",function(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}),o(s,"destroy",function(){n(["backFrame","bottomFrame","sideFrame"],function(t){this[t]&&(this[t]=this[t].destroy())},this)}),s.prototype.swapZ=function(t,e){if(this.isZAxis){var i=e?0:this.chart.plotLeft;return{x:i+t.z,y:t.y,z:t.x-i}}return t},i=t.ZAxis=function(){this.init.apply(this,arguments)},l(i.prototype,s.prototype),l(i.prototype,{isZAxis:!0,setOptions:function(t){t=h({offset:0,lineWidth:0},t),s.prototype.setOptions.call(this,t),this.coll="zAxis"},setAxisSize:function(){s.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),n(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,s=i.options,r=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&r<=0&&(r=null),o=i.zData,o.length&&(t.dataMin=Math.min(x(t.dataMin,o[0]),Math.min.apply(null,o)),t.dataMax=Math.max(x(t.dataMax,o[0]),Math.max.apply(null,o)))}})}}),o(r,"afterGetAxes",function(){var t=this,e=this.options,o=e.zAxis=y(e.zAxis||{});t.is3d()&&(this.zAxis=[],n(o,function(e,o){e.index=o,e.isX=!0,new i(t,e).setScale()}))}),u(s.prototype,"getSlotWidth",function(t,e){if(this.chart.is3d()&&e&&e.label&&this.categories){var i,o,s,r=this.chart,a=this.ticks,n=this.gridGroup.element.childNodes,l=n[0].getBBox(),h=r.frameShapes.left.getBBox(),c=r.options.chart.options3d,d={x:r.plotWidth/2,y:r.plotHeight/2,z:c.depth/2,vd:x(c.depth,1)*x(c.viewDistance,0)},y=e.pos,f=a[y-1],u=a[y+1];return 0!==y&&f&&(o=p({x:f.label.xy.x,y:f.label.xy.y,z:null},d,d.vd)),u&&u.label.xy&&(s=p({x:u.label.xy.x,y:u.label.xy.y,z:null},d,d.vd)),i={x:e.label.xy.x,y:e.label.xy.y,z:null},i=p(i,d,d.vd),Math.abs(o?i.x-o.x:s?s.x-i.x:l.x-h.x)}return t.apply(this,[].slice.call(arguments,1))})}(t),function(t){var e=t.addEvent,i=t.perspective,o=t.pick;e(t.Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),t.Series.prototype.translate3dPoints=function(){var t,e,s,r,a,n=this,l=n.chart,h=o(n.zAxis,l.options.zAxis[0]),c=[];for(a=0;a<n.data.length;a++)t=n.data[a],h&&h.translate?(r=h.isLog&&h.val2lin?h.val2lin(t.z):t.z,t.plotZ=h.translate(r),t.isInside=!!t.isInside&&(r>=h.min&&r<=h.max)):t.plotZ=0,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,c.push({x:t.plotX,y:t.plotY,z:t.plotZ});for(e=i(c,l,!0),a=0;a<n.data.length;a++)t=n.data[a],s=e[a],t.plotX=s.x,t.plotY=s.y,t.plotZ=s.z}}(t),function(t){function e(t){var e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=r(this.options.edgeWidth,1)),e}var i=t.addEvent,o=t.each,s=t.perspective,r=t.pick,a=t.Series,n=t.seriesTypes,l=t.inArray,h=t.svg,c=t.wrap;c(n.column.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),c(t.Series.prototype,"alignDataLabel",function(t){arguments[3].outside3dPlot=arguments[1].outside3dPlot,t.apply(this,[].slice.call(arguments,1))}),c(t.Series.prototype,"justifyDataLabel",function(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}),n.column.prototype.translate3dPoints=function(){},n.column.prototype.translate3dShapes=function(){var t=this,e=t.chart,i=t.options,r=i.depth||25,a=i.stacking?i.stack||0:t.index,n=a*(r+(i.groupZPadding||1)),l=t.borderWidth%2?.5:0;e.inverted&&!t.yAxis.reversed&&(l*=-1),!1!==i.grouping&&(n=0),n+=i.groupZPadding||1,o(t.data,function(i){if(i.outside3dPlot=null,null!==i.y){var a,h=i.shapeArgs,c=i.tooltipPos,p=[["x","width"],["y","height"]];o(p,function(e){if(a=h[e[0]]-l,a<0&&(h[e[1]]+=h[e[0]]+l,h[e[0]]=-l,a=0),a+h[e[1]]>t[e[0]+"Axis"].len&&0!==h[e[1]]&&(h[e[1]]=t[e[0]+"Axis"].len-h[e[0]]),
0!==h[e[1]]&&(h[e[0]]>=t[e[0]+"Axis"].len||h[e[0]]+h[e[1]]<=l)){for(var o in h)h[o]=0;i.outside3dPlot=!0}}),i.shapeType="cuboid",h.z=n,h.depth=r,h.insidePlotArea=!0,c=s([{x:c[0],y:c[1],z:n}],e,!0)[0],i.tooltipPos=[c.x,c.y]}}),t.z=n},c(n.column.prototype,"animate",function(t){if(this.chart.is3d()){var e=arguments,i=e[1],s=this.yAxis,r=this,a=this.yAxis.reversed;h&&(i?o(r.data,function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,a||(t.stackY?t.shapeArgs.y=t.plotY+s.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(o(r.data,function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,r.options.animation))}),this.drawDataLabels(),r.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),c(n.column.prototype,"plotGroup",function(t,e,i,o,s,r){return this.chart.is3d()&&r&&!this[e]&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),c(n.column.prototype,"setVisible",function(t,e){var i,s=this;s.chart.is3d()&&o(s.data,function(t){t.visible=t.options.visible=e=void 0===e?!t.visible:e,i=e?"visible":"hidden",s.options.data[l(t,s.data)]=t.options,t.graphic&&t.graphic.attr({visibility:i})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),n.column.prototype.handle3dGrouping=!0,i(a,"afterInit",function(){if(this.chart.is3d()&&this.handle3dGrouping){var t=this.options,e=t.grouping,i=t.stacking,o=r(this.yAxis.options.reversedStacks,!0),s=0;if(void 0===e||e){var a,n=this.chart.retrieveStacks(i),l=t.stack||0;for(a=0;a<n[l].series.length&&n[l].series[a]!==this;a++);s=10*(n.totalStacks-n[l].position)+(o?a:-a),this.xAxis.reversed||(s=10*n.totalStacks-s)}t.zIndex=s}}),c(n.column.prototype,"pointAttribs",e),n.columnrange&&(c(n.columnrange.prototype,"pointAttribs",e),n.columnrange.prototype.plotGroup=n.column.prototype.plotGroup,n.columnrange.prototype.setVisible=n.column.prototype.setVisible),c(a.prototype,"alignDataLabel",function(t){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var e=this,i=e.chart,o=arguments,r=o[4],a=o[1],n={x:r.x,y:r.y,z:e.z};n=s([n],i,!0)[0],r.x=n.x,r.y=a.outside3dPlot?-9e9:n.y}t.apply(this,[].slice.call(arguments,1))}),c(t.StackItem.prototype,"getStackBox",function(e,i){var o=e.apply(this,[].slice.call(arguments,1));if(i.is3d()){var s={x:o.x,y:o.y,z:0};s=t.perspective([s],i,!0)[0],o.x=s.x,o.y=s.y}return o})}(t),function(t){var e=t.deg2rad,i=t.each,o=t.pick,s=t.seriesTypes,r=t.svg,a=t.wrap;a(s.pie.prototype,"translate",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var o=this,s=o.options,r=s.depth||0,a=o.chart.options.chart.options3d,n=a.alpha,l=a.beta,h=s.stacking?(s.stack||0)*r:o._i*r;h+=r/2,!1!==s.grouping&&(h=0),i(o.data,function(t){var i,a=t.shapeArgs;t.shapeType="arc3d",a.z=h,a.depth=.75*r,a.alpha=n,a.beta=l,a.center=o.center,i=(a.end+a.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(i)*s.slicedOffset*Math.cos(n*e)),translateY:Math.round(Math.sin(i)*s.slicedOffset*Math.cos(n*e))}})}}),a(s.pie.prototype.pointClass.prototype,"haloPath",function(t){var e=arguments;return this.series.chart.is3d()?[]:t.call(this,e[1])}),a(s.pie.prototype,"pointAttribs",function(t,e,i){var s=t.call(this,e,i),r=this.options;return this.chart.is3d()&&(s.stroke=r.edgeColor||e.color||this.color,s["stroke-width"]=o(r.edgeWidth,1)),s}),a(s.pie.prototype,"drawPoints",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&i(this.points,function(t){var e=t.graphic;e&&e[t.y&&t.visible?"show":"hide"]()})}),a(s.pie.prototype,"drawDataLabels",function(t){if(this.chart.is3d()){var o=this,s=o.chart,r=s.options.chart.options3d;i(o.data,function(t){var o=t.shapeArgs,s=o.r,a=(o.alpha||r.alpha)*e,n=(o.beta||r.beta)*e,l=(o.start+o.end)/2,h=t.labelPos,c=[0,2,4],p=-s*(1-Math.cos(a))*Math.sin(l),x=s*(Math.cos(n)-1)*Math.cos(l);i(c,function(t){h[t]+=x,h[t+1]+=p})})}t.apply(this,[].slice.call(arguments,1))}),a(s.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),a(s.pie.prototype,"animate",function(t){if(this.chart.is3d()){var e,i=arguments,o=i[1],s=this.options.animation,a=this.center,n=this.group,l=this.markerGroup;r&&(!0===s&&(s={}),o?(n.oldtranslateX=n.translateX,n.oldtranslateY=n.translateY,e={translateX:a[0],translateY:a[1],scaleX:.001,scaleY:.001},n.attr(e),l&&(l.attrSetters=n.attrSetters,l.attr(e))):(e={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1},n.animate(e,s),l&&l.animate(e,s),this.animate=null))}else t.apply(this,[].slice.call(arguments,1))})}(t),function(t){var e=t.Point,i=t.seriesType,o=t.seriesTypes;i("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(e){var i=o.scatter.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&e&&(i.zIndex=t.pointCameraDistance(e,this.chart)),i},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){return e.prototype.applyOptions.apply(this,arguments),void 0===this.z&&(this.z=0),this}})}(t),function(t){var e=t.addEvent,i=t.Axis,o=t.SVGRenderer,s=t.VMLRenderer;s&&(t.setOptions({animate:!1}),s.prototype.face3d=o.prototype.face3d,s.prototype.polyhedron=o.prototype.polyhedron,s.prototype.cuboid=o.prototype.cuboid,s.prototype.cuboidPath=o.prototype.cuboidPath,s.prototype.toLinePath=o.prototype.toLinePath,s.prototype.toLineSegments=o.prototype.toLineSegments,s.prototype.createElement3D=o.prototype.createElement3D,s.prototype.arc3d=function(t){var e=o.prototype.arc3d.call(this,t);return e.css({zIndex:e.zIndex}),e},t.VMLRenderer.prototype.arc3dPath=t.SVGRenderer.prototype.arc3dPath,e(i,"render",function(){this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}(t),t},this);