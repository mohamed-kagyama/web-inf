/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","requirejs-domready","underscore","runtime_dependencies/js-sdk/src/jrs.configs","../../resource/resource.base","../../resource/resource.report","../../components/components.templateengine","jquery","../../util/utils.common"],function(e,r,n){function o(e,r){var n=f.getTemplateText("addJasperReportAddResourceTemplate"),o=g(f.render(n,r));o.find("a.launcher").on("click",function(){return m.addResource(),!1}),e.append(o)}function a(e,r){var n=f.getTemplateText("addJasperReportAddControlTemplate"),o=g(f.render(n,r));o.find("a.launcher").on("click",function(){return m.addControl(),!1}),e.append(o)}function t(e,r){var n=f.getTemplateText("addJasperReportSuggestedResourceTemplate");i.each(r,function(r){var o=g(f.render(n,i.defaults({},r,{fileType:""})));o.find("a.emphasis").on("click",function(){return m.editResource(r.name),!1}),r.located||o.find("a.launcher").on("click",function(){return m.editResource(r.name),!1}),e.append(o)})}function c(e,r){var n=f.getTemplateText("addJasperReportSuggestedControlTemplate");i.each(r,function(r){var o=g(f.render(n,r));o.find("a.emphasis").on("click",function(){return m.editControl(r.name),!1}),r.located&&o.find("a.launcher").on("click",function(){return m.removeControl(r.name),!1}),e.append(o)})}function s(e,r,n){var o=f.getTemplateText("addJasperReportNonSuggestedResourceTemplate");i.each(r,function(r){var a=g(f.render(o,r));n&&(a.find("a.emphasis").on("click",function(){return m.editResource(r.name),!1}),a.find("a.launcher").on("click",function(){return m.removeResource(r.name),!1})),e.append(a)})}function d(e,r,n){var o=f.getTemplateText("addJasperReportNonSuggestedControlTemplate");i.each(r,function(r){var a=g(f.render(o,r));n&&(a.find("a.emphasis").on("click",function(){return r.local?m.editControl(r.name):m.editControl(r.referenceURI),!1}),a.find("a.launcher").on("click",function(){return r.local?m.removeControl(r.name):m.removeControl(r.referenceURI),!1})),e.append(a)})}var u=e("requirejs-domready"),i=e("underscore"),p=e("runtime_dependencies/js-sdk/src/jrs.configs"),l=e("../../resource/resource.base"),m=e("../../resource/resource.report"),f=e("../../components/components.templateengine"),g=e("jquery"),R=e("../../util/utils.common"),h=R.isIPad;u(function(){i.extend(l.messages,p.addJasperReport.resource.messages),m.initialize(),h()&&l.initSwipeScroll();var e=g(g("#resources ul")[0]);s(e,p.addJasperReport.nonSuggestedResources,p.addJasperReport.canChangeResources),t(e,p.addJasperReport.suggestedResources),o(e,{canChangeResources:p.addJasperReport.canChangeResources});var r=g(g("#controls ul")[0]);d(r,p.addJasperReport.nonSuggestedControls,p.addJasperReport.canChangeResources),c(r,p.addJasperReport.suggestedControls),a(r,{canChangeResources:p.addJasperReport.canChangeResources})})});