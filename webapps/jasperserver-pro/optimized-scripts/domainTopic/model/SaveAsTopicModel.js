/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","underscore","backbone","bundle!DomainTopicBundle","runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension"],function(e,i,n){var t=e("underscore"),a=e("backbone"),r=e("bundle!DomainTopicBundle"),o=e("runtime_dependencies/js-sdk/src/common/extension/backboneValidationExtension"),s=a.Model.extend({defaults:{stagingQueryTimeOut:0,name:"",location:"/",description:"",stagingEnabled:!1},validationPattern:function(e){return{name:[{fn:function(e,i,n){if(n.stagingEnabled&&!e)return!0},msg:r["error.name.is.required"]},{maxLength:e.maxNameLength||100,msg:r["error.name.is.too.long"].replace("{0}",e.maxNameLength||100)}],description:[{maxLength:e.maxDescLength||300,msg:r["error.description.is.too.long"].replace("{0}",e.maxDescLength||300)}],stagingQueryTimeOut:[{fn:function(e,i,n){if(!/^[-+]?\d+$/.test(e))return!0},msg:r["error.staging.query.time.out.only.integers.above.zero"]},{min:e.minStagingQueryTimeOut||10,msg:r["error.min.staging.query.time.out.units"].replace("{0}",e.i18n.minStagingQueryTimeOut||"10 "+r["min.staging.query.time.out.units"])},{max:e.maxStagingQueryTimeOut||10080,msg:r["error.max.staging.query.time.out.units"].replace("{0}",e.i18n.maxStagingQueryTimeOut||"7 "+r["max.staging.query.time.out.units"])}]}},initialize:function(e,i){this.setValidationRules(i&&i.customValidationValues||{i18n:{}})},setValidationRules:function(e){this.validation=this.validationPattern(e)},validateAttr:function(e,i,n){var t=o.mixin.preValidate.call(this,e,i),a={};return a[e]=i,t?this.trigger("attr:invalid",this,a,t,n):this.trigger("attr:valid",this,a,t,n),!t}});t.extend(s.prototype,o.mixin),n.exports=s});