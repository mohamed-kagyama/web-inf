/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define("runtime_dependencies/jrs-ui/src/resource/resource.locate",["require","exports","module","prototype","underscore","./resource.base","../components/components.pickers","jquery"],function(e,t,n){var i=e("prototype"),o=i.$,r=e("underscore"),s=e("./resource.base"),c=e("../components/components.pickers"),a=e("jquery"),l={CONTENT_REPOSITORY:"CONTENT_REPOSITORY",LOCAL:"LOCAL",NONE:"NONE",FILE_SYSTEM:"FILE_SYSTEM",LOCATE_EVENT:"resource:locate",ALLOWED_FILE_RESOURCE_EXTENSIONS:["css","ttf","jpg","jpeg","gif","bmp","png","jar","jrxml","properties","jrtx","xml","agxml","docx","doc","ppt","pptx","xls","xlsx","ods","odt","odp","pdf","rtf","html"],initialize:function(e){var t=function(e){return r.isObject(e)?e:o(e)};this.resourceUri=t(e.resourceInput),this.browseButton=t(e.browseButton),this.filePath=t(e.fileUploadInput),this.fakeFilePath=t(e.fakeFileUploadInput),this.fakeFileInput=t(e.fakeFileUploadInputText),this.newResourceLink=t(e.newResourceLink);try{this._initFileSelector(e)}catch(e){}finally{this._initEvents(e)}return this},_initEvents:function(e){a(document).on("click","#CONTENT_REPOSITORY, #FILE_SYSTEM, #NONE, #LOCAL",this._clickHandler),"fileResourceTreeDataProvider"===e.providerId&&(a("#next").on("click",l._nextClickHandler),a("#filePath").on("change",l._uploadChangeHandler))},_nextClickHandler:function(e){a("#fileUpload").hasClass("error")&&e.preventDefault()},_uploadChangeHandler:function(e){a("#fileUpload").removeClass("error");var t=!0;if(a("#filePath")[0].value){var n=a("#filePath")[0].value.match(/.*\.([^\.]+)$/);if(n){var i=n[1];r.indexOf(l.ALLOWED_FILE_RESOURCE_EXTENSIONS,i)<0&&(t=!1)}else t=!1}else t=!1;if(!t){var o=s.messages["resource.report.unsupportedFileType.error"]+" "+l.ALLOWED_FILE_RESOURCE_EXTENSIONS.join(", ");a("#fileUpload").addClass("error").find("span.warning").html(o)}},_clickHandler:function(e){l._updateResourceSelectorState(e.target.id)},_updateResourceSelectorState:function(e){s.switchButtonState(this.filePath,e===this.FILE_SYSTEM),s.switchButtonState(this.fakeFilePath,e===this.FILE_SYSTEM),s.switchButtonState(this.fakeFileInput,e===this.FILE_SYSTEM),s.switchButtonState(this.browseButton,e===this.CONTENT_REPOSITORY),s.switchDisableState(this.resourceUri,e!==this.CONTENT_REPOSITORY);var t=e===this.LOCAL?["disabled","launcher"]:[];this._switchElementClasses(this.newResourceLink,t)},_initFileSelector:function(e){this.fileSelector=new c.FileSelector(r.extend({},e,{uriTextboxId:this.resourceUri,browseButtonId:this.browseButton,title:e.dialogTitle}))},remove:function(e){this.fileSelector.remove()},_switchElementClasses:function(e,t){e&&t&&e.removeClassName(t[0]).addClassName(t[1])}};n.exports=l}),define("runtime_dependencies/jrs-ui/src/resource/resource.analysisConnection.mondrian.locate",["require","exports","module","prototype","./resource.locate"],function(e,t,n){var i=e("prototype"),o=i.$,r=e("./resource.locate"),s={FRAME_ID:"frame",TYPE_ID:"type",TYPE_SUBMIT_ID:"chooseType",messages:{},initialize:function(){this.typeSubmit=o(this.TYPE_SUBMIT_ID),r.initialize({resourceInput:"resourceUri",browseButton:"browser_button",treeId:"OLAPTreeRepoLocation",providerId:"MondrianTreeDataProvider",dialogTitle:s.messages["resource.AnalysisConnectionMmondrianLocate.Title"],selectLeavesOnly:!0}),this._initEventHandlers()},_initEventHandlers:function(){o(this.TYPE_ID).observe("change",function(){this.typeSubmit.click()}.bind(this))}};void 0===e&&document.observe("dom:loaded",function(){s.initialize()}),n.exports=s}),define("runtime_dependencies/jrs-ui/src/addResource/analysisClientConnection/locateMondrianConnectionSourceMain",["require","exports","module","requirejs-domready","../../resource/resource.analysisConnection.mondrian.locate","underscore","runtime_dependencies/js-sdk/src/jrs.configs","../../resource/resource.base","../../util/utils.common"],function(e,t,n){var i=e("requirejs-domready"),o=e("../../resource/resource.analysisConnection.mondrian.locate"),r=e("underscore"),s=e("runtime_dependencies/js-sdk/src/jrs.configs"),c=e("../../resource/resource.base"),a=e("../../util/utils.common"),l=a.isIPad;i(function(){r.extend(window.localContext,s.locateConnectionSource.localContext),r.extend(o.messages,s.locateConnectionSource.resourceMondrianLocate.messages),o.initialize(),l()&&c.initSwipeScroll()})}),define("addResource/analysisClientConnection/locateMondrianConnectionSourceMain",["require","exports","module","runtime_dependencies/jrs-ui/src/addResource/analysisClientConnection/locateMondrianConnectionSourceMain"],function(e,t,n){e("runtime_dependencies/jrs-ui/src/addResource/analysisClientConnection/locateMondrianConnectionSourceMain")});