/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define("runtime_dependencies/jrs-ui/src/resource/resource.reportResourceNaming",["require","exports","module","prototype","../util/utils.common","./resource.base","../components/components.pickers"],function(e,i,r){var t=e("prototype"),s=t.$,o=e("../util/utils.common"),n=o.ValidationModule,d=e("./resource.base"),a=e("../components/components.pickers"),c={LABEL_ID:"label",RESOURCE_ID_ID:"resourceID",DESCRIPTION_ID:"fileResource.description",FOLDER_TREE_DATA_PROVIDER:"repositoryExplorerTreeFoldersProvider",FOLDER_TREE_ID:"addFileTreeRepoLocation",FOLDER_RESOURCE_INPUT:"folderUri",NEXT_BUTTON_ID:"next",BROWSE_BUTTON_ID:"browser_button",_canGenerateId:!0,initialize:function(e){this._form=s(document.body).select("form")[0],this._label=s(this.LABEL_ID),this._resourceId=s(this.RESOURCE_ID_ID),this._description=s(this.DESCRIPTION_ID),this._nextButton=s(this.NEXT_BUTTON_ID),this._isEditMode=!!e&&e.isEditMode,this._label.validator=d.labelValidator.bind(this),this._resourceId.validator=d.resourceIdValidator.bind(this),this._description.validator=d.descriptionValidator.bind(this),this._initEvents(),e.isBrowseActive&&this._initFileSelector()},_initFileSelector:function(e){new a.FileSelector({treeId:this.FOLDER_TREE_ID,providerId:this.FOLDER_TREE_DATA_PROVIDER,uriTextboxId:this.FOLDER_RESOURCE_INPUT,browseButtonId:this.BROWSE_BUTTON_ID,title:d.messages["resource.Report.Title"]})},_initEvents:function(){this._nextButton.observe("click",function(e){this._isDataValid()||e.stop()}.bindAsEventListener(this)),this._form.observe("keyup",function(e){var i=e.element();[this._label,this._resourceId,this._description].include(i)&&(n.validate(d.getValidationEntries([i])),i==this._resourceId&&this._resourceId.getValue()!=d.generateResourceId(this._label.getValue())&&(this._canGenerateId=!1),i==this._label&&!this._isEditMode&&this._canGenerateId&&(this._resourceId.setValue(d.generateResourceId(this._label.getValue())),n.validate(d.getValidationEntries([this._resourceId]))))}.bindAsEventListener(this))},_isDataValid:function(){var e=[this._label,this._resourceId,this._description];return n.validate(d.getValidationEntries(e))}};void 0===e&&document.observe("dom:loaded",function(){c.initialize(window.localContext.initOptions)}),r.exports=c}),define("runtime_dependencies/jrs-ui/src/addResource/jasperReport/addJasperReportResourceNamingMain",["require","exports","module","requirejs-domready","underscore","runtime_dependencies/js-sdk/src/jrs.configs","../../resource/resource.base","../../resource/resource.reportResourceNaming","../../util/utils.common"],function(e,i,r){var t=e("requirejs-domready"),s=e("underscore"),o=e("runtime_dependencies/js-sdk/src/jrs.configs"),n=e("../../resource/resource.base"),d=e("../../resource/resource.reportResourceNaming"),a=e("../../util/utils.common"),c=a.isIPad;t(function(){var e;void 0!==o.addJasperReport.localContext&&(e=o.addJasperReport.localContext.initOptions,s.extend(window.localContext,o.addJasperReport.localContext)),s.extend(n.messages,o.addJasperReport.resource.messages),d.initialize(e),c()&&n.initSwipeScroll()})}),define("addResource/jasperReport/addJasperReportResourceNamingMain",["require","exports","module","runtime_dependencies/jrs-ui/src/addResource/jasperReport/addJasperReportResourceNamingMain"],function(e,i,r){e("runtime_dependencies/jrs-ui/src/addResource/jasperReport/addJasperReportResourceNamingMain")});