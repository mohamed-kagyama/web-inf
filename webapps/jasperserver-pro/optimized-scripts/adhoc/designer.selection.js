/*
 * Copyright (C) 2005 - 2020 TIBCO Software Inc. All rights reserved. Confidentiality & Proprietary.
 * Licensed pursuant to commercial TIBCO End User License Agreement.
 */

define(["require","exports","module","./designer","../base/designer.base","runtime_dependencies/jrs-ui/src/dynamicTree/dynamicTree.utils","runtime_dependencies/jrs-ui/src/util/utils.common"],function(e,t,n){var r=e("./designer"),s=e("../base/designer.base"),i=e("runtime_dependencies/jrs-ui/src/dynamicTree/dynamicTree.utils"),d=e("runtime_dependencies/jrs-ui/src/util/utils.common"),c=d.isMetaHeld,l=d.isShiftHeld;r.addSelectedObject=function(e,t,n,r){n?r?this.removeSelectedObject(t):s.addToSelected(t):(s.unSelectAll(),s.addToSelected(t))},r.selectSingleObject=function(e){s.unSelectAll(),s.addToSelected(e)},r.deselectSelectedObject=function(e){this.removeSelectedObject(e)},r.removeSelectedObject=function(e){s.unSelectGiven(e)},r.unSelectAvailableTreeNodes=function(e){this.measuresTree&&this.measuresTree._deselectAllNodes(),this.dimensionsTree&&this.dimensionsTree._deselectAllNodes()},r.getNameForSelectedTreeNode=function(){var e=s.getSelectedObject();return e?e.param.id:""},r.getSelectedTreeNodes=function(){return r.dimensionsTree.selectedNodes.length>0?r.dimensionsTree.selectedNodes:r.measuresTree.selectedNodes},r.isSelectedNode=function(e){return e&&e.getTreeId?i.trees[e.getTreeId()].isNodeSelected(e):null},r.isSelectedTreeNodeAFolder=function(){var e=s.getSelectedObject();return!e||e.hasChilds()},r.isAlreadySelected=function(e){return s.isInSelection(e)},r.isMultiSelect=function(e,t){var n=c(e),r=l(e),i=window.selectionCategory.area==t;return window.selectionCategory.area==s.AVAILABLE_FIELDS_AREA?i&&(n||r):i&&n},r.hasSpacerInSelection=function(){for(var e=0;e<window.selObjects.length;e++)if(r.getNameForSelected(window.selObjects[e])===s.SPACER_NAME)return!0;return!1},r.isSpacerSelected=function(e){return e=e||window.selObjects[0],r.getNameForSelected(e)===s.SPACER_NAME},r.isConstantSelected=function(e){return r.getNameForSelected(e).startsWith(window.constantFieldsLevel+".")},r.isMeasureSelected=function(e){return!(!e||!e.menuLevel)&&e.menuLevel.startsWith(this.OLAP_MEASURES_TREE)},r.isUsedAsGroup=function(e){var t=window.localContext.state.groups;if(null!=t)for(var n=0;n<t.length;n++)if(t[n].name==e)return!0;return!1},r.hasGroupInSelection=function(){for(var e=0;e<window.selObjects.length;e++)if(r.isUsedAsGroup(r.getNameForSelected(window.selObjects[e])))return!0;return!1},n.exports=r});